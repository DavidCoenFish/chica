/*

//@ sourceMappingURL=legendaryquest.map
*/
var y,E="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)},G="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function H(b,a){if(a){for(var d=G,e=b.split("."),f=0;f<e.length-1;f++){var h=e[f];h in d||(d[h]={});d=d[h]}e=e[e.length-1];f=d[e];h=a(f);h!=f&&null!=h&&E(d,e,{configurable:!0,writable:!0,value:h})}}H("Object.assign",function(b){return b?b:function(a,b){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])}return a}});H("Math.log2",function(b){return b?b:function(a){return Math.log(a)/Math.LN2}});c={o:function(b,a,d){d=void 0!=d&&1==d;!0!==b&&!0!==d||console.info(a);!0===d&&alert(a)},F:function(b,a){var d=b;if(b&&a){for(var e=0,f=a.length;e<f&&(d=d[a[e]],void 0!==d);e++);return d}}};c.PathObjectGet=c.F;c.Pb=function(b,a,d){var e=b;if(b&&a){b=0;for(var f=a.length;b<f;b++){var h=a[b];if(b===a.length-1){e[h]=d;break}e=e[h];if(void 0===e)break}}};c.PathObjectSet=c.Pb;c.O=function(b){for(var a=[],d=0,e=b.length;d<e;d++)a.push(b[d]);return a};
c.Oa=function(b){if(b instanceof Array){result=[];for(var a=0,d=b.length;a<d;a++)result[a]=c.Oa(b[a]);return result}if(b instanceof Object){result={};for(a in b)b.hasOwnProperty(a)&&(result[a]=c.Oa(b[a]));return copy}b instanceof Date&&c.o(!0,"instance of class Date in DeepClone");return b};c.bb=function(b,a){for(var d="",e=b;0<e;--e)d+=a[Math.floor(Math.random()*a.length)];return d};c.RandomString=c.bb;c.oa=function(b){return Array.isArray(b)};c.Td=function(b){return"[object Number]"===Object.prototype.toString.call(b)};
c.Ya=function(b){return"string"===typeof b};c.f={};c.f.R="data";c.f.ra="op";
c.f.i={Cd:"pushconst",rd:"getstaticdataobject",Sb:"getnode",Tb:"setnode",hb:"getparentnode",kb:"setparentnode",pd:"getdocumentvalue",Fd:"setdocumentvalue",od:"getdocumentarrayvalue",nd:"getarrayvalue",Ed:"setarrayvalue",qd:"getobjectvalue",Gd:"setobjectvalue",yd:"objecthaskey",xd:"objectaddkey",zd:"objectremovekey",Ad:"objecttostack",Kd:"stacktoobject",sd:"if",Ld:"testundefined",Dd:"replaceundefined",dd:"equal",ud:"lessequal",td:"less",$c:"and",Bd:"or",Md:"xor",wd:"not",cd:"arraytostack",ad:"arrayofarraytostack",
Jd:"stacktoarray",Hd:"stackalltrue",Id:"stackanytrue",bd:"arraytomap",vd:"maptoarray",ed:"f0",fd:"f1",gd:"f2",hd:"f3",jd:"f4",kd:"f5",ld:"f6",md:"f7"};c.f.N="value";c.f.ga="node";c.f.G="type";c.f.Qd="tooltipstop";c.f.ta="dimension";c.f.tb="islocale";c.f.l={cb:"bool",eb:"boolarray",ib:"int",jb:"intarray",fb:"float",gb:"floatarray",lb:"string",mb:"stringarray",nb:"stringmap",Ea:"key",Fa:"keyarray",Ga:"keymap",ca:"document",da:"documentarray",ea:"iddocumentmap",Wd:"object",Vd:"array",Xd:"unknown",Yd:"unknownarray"};c.Eb={};
c.Eb.jc=function(b,a,d,e,f,h,k,n,q,v,u){var x=b.Aa();c.o(!1,"DagNodeCalculateHelper.CalculateValue name:"+x);a.length=0;for(var B=d.length=0,C=e.length;B<C;B++){var g=e[B];if(!g)throw Error("null instruction at:"+B);var l=g[c.f.ra];switch(l){default:throw Error("invalid instruction at:"+B+" operation:"+l);case c.f.i.Cd:var p=g[c.f.N];a.push(p);if(!1===u){g=g[c.f.tb];void 0===g&&(g=!1);var z=c.c.$a(p,void 0,n,q,g,f);d.push(z)}break;case c.f.i.rd:var g=a.pop(),m=c.F(f,g);a.push(m);!1===u&&(l=d.pop(),
g=[c.c.v("get_static_data_object",f)],g=c.c.h(g,"__A__",l),d.push(g));break;case c.f.i.Sb:case c.f.i.hb:l=g[c.f.ga];p=l.w();a.push(p);if(!1===u){var g=[l.T()+"("],t={text:l.S(n)},l=l.Xa(n);void 0!==l&&(t.tooltip=l);c.c.J(g,t);c.c.J(g,")");d.push(g)}break;case c.f.i.Tb:case c.f.i.kb:p=a.pop();l=g[c.f.ga];l.P(p);!1===u&&d.pop();break;case c.f.i.pd:m=a.pop();if(0==("string"===typeof m||m instanceof String))throw Error("GetDocumentValue valueName not string:"+typeof m);p=void 0;t=a.pop();if(void 0!==
t){p=t instanceof c.Document;if(0==("c.Document"===typeof t||p))throw Error("GetDocumentValue document not document:"+typeof t);p=t.w(m)}a.push(p);if(!1===u){d.pop();var r;d.pop();if(void 0===p)d.push("");else{var D=void 0!==t?t.T(m):void 0,z=void 0!==t?t.S(m,n):void 0,t=void 0!==t?t.Ba(m,n):void 0,z={text:z};void 0!==t&&(z.tooltip=t);g=[D+"("];c.c.J(g,z);c.c.J(g,")");d.push(g)}}break;case c.f.i.Fd:p=a.pop();m=a.pop();t=a.pop();void 0!==t&&t.P(m,p);!1===u&&(d.pop(),d.pop(),d.pop());break;case c.f.i.nd:l=
a.pop();g=a.pop();m=void 0;void 0!==l&&void 0!==g&&void 0!==g.length&&0<=l&&l<g.length&&(m=g[l]);a.push(m);!1===u&&(d.pop(),d.pop(),d.push(void 0!==m?m.toString():""));break;case c.f.i.Ed:l=a.pop();p=a.pop();g=a.pop();void 0!==l&&void 0!==g&&void 0!==g.length&&0<=l&&l<g.length&&(g[B]=p);a.push(g);!1===u&&(d.pop(),d.pop(),d.pop(),d.push(""));break;case c.f.i.od:m=a.pop();if(0==("string"===typeof m||m instanceof String))throw Error("GetDocumentArrayValue valueName not string:"+typeof m);var g=[],A=
a.pop();if(!1===c.oa(A))throw Error("GetDocumentArrayValue documentArray not array:"+typeof A);l=0;for(r=A.length;l<r;l++)t=A[l],void 0!==t&&(p=t.w(m),void 0!==p&&g.push(p));a.push(g);if(!1===u){d.pop();d.pop();var g=[],I=0,l=0;for(r=A.length;l<r;l++)t=A[l],void 0!==t&&(p=t.w(m),void 0!==p&&(I&&c.c.J(g,", "),I+=1,D=t.T(m),z=t.S(m,n),t=t.Ba(m,n),z={text:z},void 0!==t&&(z.tooltip=t),c.c.J(g,D+"("),c.c.J(g,z),c.c.J(g,")")));d.push(g)}break;case c.f.i.qd:var w=a.pop(),p=a.pop(),m=void 0;void 0!==p&&(m=
p[w]);a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=["("],c.c.J(g,r),c.c.J(g,")."),c.c.J(g,l),d.push(g));break;case c.f.i.Gd:w=a.pop();p=a.pop();m=a.pop();void 0!==m&&(m[w]=p);a.push(m);!1===u&&(d.pop(),d.pop(),d.pop(),d.push(""));break;case c.f.i.yd:w=a.pop();p=a.pop();m=!1;void 0!==p&&(m=w in p);a.push(m);break;case c.f.i.xd:w=a.pop();m=a.pop();m[w]=0;a.push(m);break;case c.f.i.zd:w=a.pop();m=a.pop();delete m[w];a.push(m);break;case c.f.i.Ad:var p=a.pop(),F;for(F in p)p.hasOwnProperty(F)&&(a.push(p[F]),
a.push(F));break;case c.f.i.Kd:for(m={};1<a.length;)g=a.pop(),p=a.pop(),m[g]=p;a.push(m);break;case c.f.i.sd:g=a.pop();l=a.pop();r=a.pop();a.push(g?l:r);!1===u&&(l=d.pop(),r=d.pop(),t=d.pop(),g=[c.c.v("if",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),d.push(g));break;case c.f.i.Ld:p=a.pop();m=void 0===p;a.push(m);!1===u&&(l=d.pop(),g=[c.c.v("test_undefined",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",m),d.push(g));break;case c.f.i.Dd:l=a.pop();r=a.pop();void 0!==r?a.push(r):a.push(l);
!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("replace_undefined",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),d.push(g));break;case c.f.i.dd:l=a.pop();r=a.pop();m=l==r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("equal",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",m),d.push(g));break;case c.f.i.ud:l=a.pop();r=a.pop();m=l<=r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("lessequal",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",m),d.push(g));break;case c.f.i.td:l=
a.pop();r=a.pop();m=l<r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("less",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",m),d.push(g));break;case c.f.i.$c:l=a.pop();r=a.pop();m=l&&r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("and",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),d.push(g));break;case c.f.i.Bd:l=a.pop();r=a.pop();m=l||r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("or",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),d.push(g));break;case c.f.i.Md:l=a.pop();
r=a.pop();m=l!==r;a.push(m);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v("xor",f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),d.push(g));break;case c.f.i.wd:l=a.pop();m=!l;a.push(m);!1===u&&(l=d.pop(),g=[c.c.v("not",f)],g=c.c.h(g,"__A__",l),d.push(g));break;case c.f.i.cd:p=a.pop();if(void 0!==p)for(l=0,r=p.length;l<r;l++)g=p[p.length-1-l],a.push(g);!1===u&&d.pop();break;case c.f.i.ad:p=a.pop();if(void 0!==p)for(l=0,r=p.length;l<r;l++)if(t=p[p.length-1-l],void 0!==t)for(m=0,A=t.length;m<A;m++)g=t[t.length-
1-m],void 0!==g&&a.push(g);if(!1===u&&(p=d.pop(),void 0!==p))for(l=0,r=p.length;l<r;l++)if(t=p[p.length-1-l],void 0!==t)for(m=0,A=t.length;m<A;m++)g=t[t.length-1-m],void 0!==g&&d.push(g);break;case c.f.i.Jd:for(p=[];0<a.length;)p.push(a.pop());a.push(p);if(!1===u){for(p=[];0<d.length;)p.push(d.pop());d.push(p)}break;case c.f.i.Hd:for(m=!0;0<a.length;)g=a.pop(),m=m&&g;a.push(m);!1===u&&(d.length=0,d.push(p));break;case c.f.i.Id:for(m=!1;0<a.length;)if(g=a.pop(),!0===g){m=!0;a.length=0;break}a.push(m);
!1===u&&(d.length=0,d.push(p));break;case c.f.i.bd:p=a.pop();m={};if(void 0!==p)for(l=0,r=p.length;l<r;l++)t=p[l],m[t]=0;a.push(m);!1===u&&(d.length=0,d.push(m));break;case c.f.i.vd:p=a.pop();m=[];if(void 0!==p)for(w in p)!1!==p.hasOwnProperty(w)&&m.push(w);a.push(m);!1===u&&(d.pop(),d.push(m));break;case c.f.i.ed:w=g[c.f.N];if(p=h[w])p=p();else throw Error("F0 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&d.push(c.c.v(w,f));break;case c.f.i.fd:l=a.pop();w=g[c.f.N];if(p=h[w])p=
p(l);else throw Error("F1 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),d.push(g));break;case c.f.i.gd:l=a.pop();r=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r);else throw Error("F2 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),d.push(g));break;case c.f.i.hd:l=a.pop();r=a.pop();t=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r,t);else throw Error("F3 method not found:"+
w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),t=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),d.push(g));break;case c.f.i.jd:l=a.pop();r=a.pop();t=a.pop();m=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r,t,m);else throw Error("F4 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),t=d.pop(),m=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),g=c.c.h(g,"__D__",m),d.push(g));
break;case c.f.i.kd:l=a.pop();r=a.pop();t=a.pop();m=a.pop();A=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r,t,m,A);else throw Error("F5 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),t=d.pop(),m=d.pop(),A=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),g=c.c.h(g,"__D__",m),g=c.c.h(g,"__E__",A),d.push(g));break;case c.f.i.ld:l=a.pop();r=a.pop();t=a.pop();m=a.pop();A=a.pop();z=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r,t,m,A,z);else throw Error("F6 method not found:"+
w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),t=d.pop(),m=d.pop(),A=d.pop(),z=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),g=c.c.h(g,"__D__",m),g=c.c.h(g,"__E__",A),g=c.c.h(g,"__F__",z),d.push(g));break;case c.f.i.md:l=a.pop();r=a.pop();t=a.pop();m=a.pop();A=a.pop();z=a.pop();D=a.pop();w=g[c.f.N];if(p=h[w])p=p(l,r,t,m,A,z,D);else throw Error("F7 method not found:"+w+" in CalculateValue name:"+x);a.push(p);!1===u&&(l=d.pop(),r=d.pop(),
t=d.pop(),m=d.pop(),A=d.pop(),z=d.pop(),D=d.pop(),g=[c.c.v(w,f)],g=c.c.h(g,"__A__",l),g=c.c.h(g,"__B__",r),g=c.c.h(g,"__C__",t),g=c.c.h(g,"__D__",m),g=c.c.h(g,"__E__",A),g=c.c.h(g,"__F__",z),g=c.c.h(g,"__G__",D),d.push(g))}}if(0>=a.length)throw Error("invalid calculation stack:"+a.length+" "+JSON.stringify(a));m=a.pop();z=c.c.$a(m,k,n,q,v,f);b.Y=z;if(!1===u){t=[b.T()+"("+z+") = "];if(0>=d.length)throw Error("invalid tooltip stack:"+d.length+" "+JSON.stringify(d));a=d.pop();c.c.J(t,a);b.Z=t}return m};c.xa=function(b,a,d,e,f,h,k,n,q,v){this.U=b;this.qa=a;this.xb=d;this.ec=e;this.M=f;this.pa=h;this.ic=k;this.oc=n;this.wb=q;this.hc=v;this.Y=this.Z=this.H=void 0;this.g=[];this.D=!0;this.V="";this.yb=[];this.lc=[]};c.xa.L=function(b,a,d,e,f,h,k,n,q,v){return new c.xa(b,a,d,e,f,h,k,n,q,v)};y=c.xa.prototype;y.w=function(){c.o(!1,"DagNodeCalculate.GetValue name:"+this.U+" dirty:"+this.D);J(this,this.V);return this.H};
function J(b,a){if(!0===b.D||a!==b.V){b.V=a;b.D=!1;try{b.H=c.Eb.jc(b,b.yb,b.lc,b.M,b.wb,b.hc,b.xb,a,b.pa,b.ic,b.oc)}catch(d){c.o(!0,"SWALLOWING EXCEPTION: GetValue "+b.U+" threw error:"+d+" this:"+b),b.H=void 0}}}y.Aa=function(){return this.U};y.T=function(){return this.qa};y.S=function(b){J(this,b);return this.Y};y.Xa=function(b){J(this,b);return this.Z};y.X=function(){if(1!=this.D){this.D=!0;for(var b=0,a=this.g.length;b<a;b++){var d=this.g[b];null!=d&&d.X()}K(this.ec)}};y.Ab=function(b){this.g.push(b)};
y.Qb=function(b){this.g=this.g.filter(function(a){return a!==b})};y.za=function(){return this.M};y.toString=function(){for(var b="{m_value:"+this.H+", m_dirty:"+this.D+", m_outputArray[",a=0,d=this.g.length;a<d;a++){var e=this.g[a];a&&(b+=", ");b+=e.Aa()}b+="], m_instructionArray:[";a=0;for(d=this.M.length;a<d;a++)e=this.M[a],a&&(b+=", "),b+="{op:"+e[c.f.ra]+",value:"+e[c.f.N]+"}";return b+"]}"};c.a={};c.a.Ub="clientlocked";c.a.G="type";c.a.l={cb:"bool",eb:"boolarray",ib:"int",jb:"intarray",fb:"float",gb:"floatarray",lb:"string",mb:"stringarray",nb:"stringmap",Ea:"key",Fa:"keyarray",Ga:"keymap",ca:"document",da:"documentarray",ea:"iddocumentmap"};c.a.ob="defaultvaluebool";c.a.qb="defaultvalueint";c.a.Ka="defaultvalueintuserand";c.a.Ja="defaultvalueintdatenow";c.a.pb="defaultvaluefloat";c.a.sb="defaultvaluestring";c.a.Xb="defaultvaluestringrandid";c.a.Wb="defaultvaluestringranddatabaseid";
c.a.Vb="defaultvaluestringmap";c.a.La="defaultvaluekey";c.a.Nd="defaultvaluekeymap";c.a.sa="defaultvaluekeyuserand";c.a.rb="defaultvaluekeyrandarray";c.a.Ia="defaultvaluedocumenttype";c.a.ia="keypath";c.a.ha="documenttypearray";c.a.$="arraylengthmin";c.a.fa="arraylengthmax";c.a.cc="stringlengthmin";c.a.bc="stringlengthmax";c.a.ac="intrangelow";c.a.$b="intrangehigh";c.a.Zb="floatrangelow";c.a.Yb="floatrangehigh";c.a.ta="dimension";c.b={};c.DagNodeValueHelper=c.b;
c.b.Hb=function(b,a,d,e,f){var h=a[c.a.G];c.o(!1,"c.DagNodeValueHelper.FactoryValue type:"+h);switch(h){case c.a.l.cb:return c.b.pc(b,a);case c.a.l.eb:return c.b.Qa(b,a);case c.a.l.ib:return c.b.uc(b,a);case c.a.l.jb:return c.b.Ta(b,a);case c.a.l.fb:return c.b.sc(b,a);case c.a.l.gb:return c.b.Sa(b,a);case c.a.l.lb:return c.b.xc(b,a);case c.a.l.mb:return c.b.Wa(b,a);case c.a.l.nb:return c.b.yc(b,a);case c.a.l.Ea:return c.b.vc(b,a,d);case c.a.l.Fa:return c.b.Ua(b,a,d);case c.a.l.Ga:return c.b.wc(b,
a,d);case c.a.l.ca:return c.b.qc(b,a,e,f);case c.a.l.da:return c.b.rc(b,a,e,f);case c.a.l.ea:return c.b.tc(b,a,e,f)}};c.b.FactoryValue=c.b.Hb;c.b.Pa=function(b,a,d,e){if(void 0!==d&&b.length<d)for(;b.length<d;)b.push(a);void 0!==e&&e<b.length&&(b.length=e)};c.b.ya=function(b,a,d,e){if(void 0!==d&&b.length<d)for(;b.length<d;)b.push(a());void 0!==e&&e<b.length&&(b.length=e)};c.b.Za=function(b,a,d,e){if(!0!==a)return b;b=void 0!==d?d:0;return Math.floor(Math.random()*((void 0!==e?e:1)+1-b))+b};
c.b.Bc=function(b,a,d,e){return function(){return c.b.Za(b,a,d,e)}};c.b.Mb=function(b){return function(){return(" "+b).slice(1)}};c.b.Ec=function(b){return function(){return b[Math.floor(Math.random()*b.length)]}};c.b.Dc=function(){return function(){return c.b.Ob()}};c.b.Cc=function(){return function(){return c.b.Nb()}};c.b.pc=function(b,a){var d=a[c.a.ob];return!0===b?!0:!1===b?!1:void 0!==d?d:!1};
c.b.Qa=function(b,a){var d=a[c.a.ob],e;if(void 0!=b&&Array.isArray(b)){e=b;for(var f=0,h=e.length;f<h;f++)e[f]=!0===e[f]}else e=[];c.b.Pa(e,void 0!==d?d:!1,a[c.a.$],a[c.a.fa]);return e};c.b.uc=function(b,a){var d=a[c.a.qb],d=void 0!==d?d:0,e=a[c.a.Ka];!0===a[c.a.Ja]&&(d=(new Date).valueOf());var f=a[c.a.ac],h=a[c.a.$b],d=c.b.Za(d,e,f,h);return c.b.Jb(b,d,f,h)};c.b.Jb=function(b,a,d,e){b="number"===typeof b?Math.round(b):a;void 0!==d&&(b=Math.max(d,b));void 0!==e&&(b=Math.min(e,b));return b};
c.b.Ta=function(b,a){var d=a[c.a.qb],d=void 0!==d?d:0,e=a[c.a.Ka];!0===a[c.a.Ja]&&(d=(new Date).valueOf());var f=a[c.a.ac],h=a[c.a.$b],k;if(void 0!=b&&Array.isArray(b)){k=b;for(var n=0,q=k.length;n<q;n++){var v=k[n],d=c.b.Za(d,e,f,h),v=c.b.Jb(v,d,f,h);k[n]=v}}else k=[];n=a[c.a.$];q=a[c.a.fa];c.b.Pa(k,d,n,q);c.b.ya(k,c.b.Bc(d,e,f,h),n,q);return k};c.b.Ib=function(b,a,d,e){b="number"===typeof b?b:a;void 0!==d&&(b=Math.max(d,b));void 0!==e&&(b=Math.min(e,b));return b};
c.b.sc=function(b,a){var d=a[c.a.pb];return c.b.Ib(b,void 0!==d?d:0,a[c.a.Zb],a[c.a.Yb])};c.b.Sa=function(b,a){var d=a[c.a.pb],d=void 0!==d?d:0,e=a[c.a.Zb],f=a[c.a.Yb],h;if(void 0!=b&&Array.isArray(b)){h=b;for(var k=0,n=h.length;k<n;k++){var q=h[k],q=c.b.Ib(q,d,e,f);h[k]=q}}else h=[];c.b.Pa(h,d,a[c.a.$],a[c.a.fa]);return h};
c.b.Kb=function(b,a,d,e){var f=void 0;"string"===typeof b||b instanceof String?f=b:f=a;if(void 0!==d&&f.length<d)for(;f.length<d;)f+="_";void 0!==e&&e<f.length&&(f=f.substr(0,e));return f};c.b.xc=function(b,a){var d=a[c.a.sb],d=void 0!==d?d:"";!0===a[c.a.Xb]&&(d=c.b.Ob());!0===a[c.a.Wb]&&(d=c.b.Nb());return c.b.Kb(b,d,a[c.a.cc],a[c.a.bc])};
c.b.Wa=function(b,a){var d=a[c.a.sb],d=void 0!==d?d:"",e=a[c.a.cc],f=a[c.a.bc],h;if(void 0!=b&&Array.isArray(b)){h=b;for(var k=0,n=h.length;k<n;k++){var q=h[k],q=c.b.Kb(q,d,e,f);h[k]=q}}else h=[];e=a[c.a.$];f=a[c.a.fa];d=c.b.Mb(d);!0===a[c.a.Xb]&&(d=c.b.Dc);!0===a[c.a.Wb]&&(d=c.b.Cc);c.b.ya(h,d,e,f);return h};
c.b.Lb=function(b,a){var d={};if(void 0===b||!1===Array.isArray(b))b=a;if(void 0!=b&&Array.isArray(b))for(var e=0,f=b.length;e<f;e++){var h=b[e];if("string"===typeof h||h instanceof String)d[h]=0}return d};c.b.yc=function(b,a){return c.b.Lb(b,a[c.a.Vb])};c.b.Va=function(b,a,d,e,f){return("string"===typeof b||b instanceof String)&&e&&b in e?b:!0===d&&f?f[Math.floor(Math.random()*f.length)]:a};
c.b.vc=function(b,a,d){d=c.F(d,a[c.a.ia]);var e=a[c.a.La],f=a[c.a.sa];a=a[c.a.rb];var h=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&h.push(temp_key);void 0!==a&&(h=a);void 0==e&&(0<h.length?e=h[0]:e="");return c.b.Va(b,e,f,d,h)};
c.b.Ua=function(b,a,d){d=c.F(d,a[c.a.ia]);var e=a[c.a.La],f=a[c.a.sa],h=a[c.a.rb],k=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&k.push(temp_key);void 0!==h&&(k=h);void 0==e&&(0<k.length?e=k[0]:e="");if(void 0!=b&&Array.isArray(b))for(var h=[],n=0,q=b.length;n<q;n++)innerResult=c.b.Va(b[n],e,f,d,k),h[n]=innerResult;else h=[];c.b.ya(h,!0===f&&0<k.length?c.b.Ec(k):c.b.Mb(e),a[c.a.$],a[c.a.fa]);return h};
c.b.wc=function(b,a,d){d=c.F(d,a[c.a.ia]);var e=a[c.a.La],f=a[c.a.sa],h=a[c.a.rb],k=a[c.a.Nd];void 0===k&&(k={});a=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&a.push(temp_key);void 0!==h&&(a=h);void 0==e&&(0<a.length?e=a[0]:e="");if(void 0!=b&&Array.isArray(b))for(var h={},k=0,n=b.length;k<n;k++)innerResult=c.b.Va(b[k],e,f,d,a),h[innerResult]=0;else h=k;return h};c.b.Ob=function(){return c.bb(16,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789")};
c.b.Nb=function(){return c.bb(24,"0123456789ABCDEF")};
c.b.Ra=function(b,a,d,e,f){c.o(!1,"c.DagNodeValueHelper.FactoryValueDocumentClean valueOrUndefined:"+b+" defaultType:"+a+" validTypeArray:"+d+" documentManager:"+e+" node:"+f);if(e){var h=null,k=void 0;null!==b&&"object"===typeof b&&(k=L(e,b,f));k&&void 0!==d&&(h=k.na(),-1===d.indexOf(h)&&(k=void 0));if(!k){if(void 0===a)return;b=e.Ca(a);k=L(e,b,f)}k||c.o(!0,"c.DagNodeValueHelper.FactoryValueDocumentClean could not find type:"+h+" defaultType:"+a,!0);return k}};
c.b.qc=function(b,a,d,e){c.o(!1,"c.DagNodeValueHelper.FactoryValueDocument valueOrUndefined:"+b+" metaData:"+a+" documentManager:"+d+" node:"+e);if(!d)return null;var f=a[c.a.Ia];a=a[c.a.ha];void 0===f&&void 0!==a&&0<a.length&&(f=a[0]);return c.b.Ra(b,f,a,d,e)};
c.b.rc=function(b,a,d,e){var f=a[c.a.Ia],h=a[c.a.ha];void 0===f&&void 0!==h&&0<h.length&&(f=h[0]);if(void 0!=b&&Array.isArray(b)){for(var k=[],n=0,q=b.length;n<q;n++){var v=b[n];(v=c.b.Ra(v,f,h,d,e))&&k.push(v)}b=k}else b=[];c.b.ya(b,c.b.Ac(f,d,e),a[c.a.$],a[c.a.fa]);return b};c.b.tc=function(b,a,d,e){a=a[c.a.ha];var f;if(void 0!=b&&Array.isArray(b)){f={};for(var h=0,k=b.length;h<k;h++){var n=c.b.Ra(b[h],void 0,a,d,e);if(n){var q=n.w(c.ba.Od);void 0!==q&&(f[q]=n)}}}else f={};return f};
c.b.Ac=function(b,a,d){return function(){var e=a.Ca(b);return L(a,e,d)}};c.b.Ud=function(b){return function(){return c.b.Lb(void 0,b)}};
c.b.Hc=function(b,a,d,e){switch(a[c.a.G]){case c.a.l.cb:return c.b.Ic(b,a);case c.a.l.eb:return c.b.Jc(b,a);case c.a.l.ib:return c.b.Pc(b,a);case c.a.l.jb:return c.b.Qc(b,a);case c.a.l.fb:return c.b.Mc(b,a);case c.a.l.gb:return c.b.Nc(b,a);case c.a.l.lb:return c.b.Uc(b,a);case c.a.l.mb:return c.b.Vc(b,a);case c.a.l.nb:return c.b.Wc(b,a);case c.a.l.Ea:return c.b.Rc(b,a,d);case c.a.l.Fa:return c.b.Sc(b,a,d);case c.a.l.Ga:return c.b.Tc(b);case c.a.l.ca:return c.b.Kc(b,a,e);case c.a.l.da:return c.b.Lc(b,
a,e);case c.a.l.ea:return c.b.Oc(b,e)}};c.b.Ic=function(b,a){var d=a[c.a.ob];void 0===d&&(d=!1);if(!0===b&&b!==d||!1===b&&b!==d)return b};c.b.Jc=function(b,a){var d=c.b.Qa(b,a),e=c.b.Qa(void 0,a);if(!0!==c.b.la(d,e))return d};c.b.Pc=function(b,a){var d=a[c.a.qb],e=a[c.a.Ka],f=a[c.a.Ja];if("number"===typeof b){var h=Math.round(b);if(h!==(void 0!==d?d:0)||!0===f||!0===e)return h}};c.b.Qc=function(b,a){var d=c.b.Ta(b,a),e=c.b.Ta(void 0,a),f=a[c.a.Ka];if(!0===a[c.a.Ja]||!0===f||!0!==c.b.la(d,e))return d};
c.b.Mc=function(b,a){var d=a[c.a.pb];if("number"===typeof b&&b!==(void 0!==d?d:0))return b};c.b.Nc=function(b,a){var d=c.b.Sa(b,a),e=c.b.Sa(void 0,a);if(!0!==c.b.la(d,e))return d};c.b.Uc=function(b,a){var d=a[c.a.sb];if(("string"===typeof b||b instanceof String)&&(void 0!==d?d:"")!==b)return b};c.b.Vc=function(b,a){var d=c.b.Wa(b,a),e=c.b.Wa(void 0,a);if(!0!==c.b.la(d,e))return d};
c.b.Rc=function(b,a,d){d=c.F(d,a[c.a.ia]);var e=a[c.a.La];!0===a[c.a.sa]&&(e=void 0);if(d&&("string"===typeof b||b instanceof String)&&b in d&&b!==e)return b};c.b.Sc=function(b,a,d){b=c.b.Ua(b,a,d);if(1==a[c.a.sa])return b;a=c.b.Ua(void 0,a,d);if(!0!==c.b.la(b,a))return b};c.b.Tc=function(b){var a;if(void 0!==b){a=[];for(var d in b)b.hasOwnProperty(d)&&a.push(d);if(!1===c.b.Cb(a,defaultValue))return a}};
c.b.Kc=function(b,a,d){var e=a[c.a.ha],f=void 0;"GetType"in b&&(f=b.GetType());var h=void 0;void 0!==e&&void 0!==f&&-1!==e.indexOf(f)&&(h=d.D(b));if(h&&(f!==a[c.a.Ia]||1!==Object.keys(h).length))return h};c.b.Lc=function(b,a,d){if(void 0!=b&&!1!==Array.isArray(b)){var e=[],f=a[c.a.Ia];a=a[c.a.$];void 0===a&&(a=0);a=1&b.length==a;for(var h=0,k=b.length;h<k;h++){var n=d.D(b[h]);a&=n.type===f&&1===Object.keys(n).length;e.push(n)}if(1!=a)return e}};
c.b.Oc=function(b,a){if(void 0!=b){var d=0,e=[];for(id in b)if(b.hasOwnProperty(id)){var f=b[id];void 0!=f&&"GetValue"in f&&f.w("id")===id&&(f=a.D(f),e.push(f),d+=1)}if(d)return e}};c.b.la=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;for(var d=0,e=b.length;d<e;d++)if(b[d]!==a[d])return!1;return!0};
c.b.Sd=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;for(var d=0,e=b.length;d<e;d++)if(b[d].valueOf()!==a[d].valueOf())return!1;return!0};c.b.Cb=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;for(var d=0,e=b.length;d<e;d++)if(-1===a.indexOf(b[d]))return!1;return!0};
c.b.Wc=function(b,a){var d=a[c.a.Vb];void 0===d&&(d=[]);var e;if(void 0!==b){e=[];for(var f in b)b.hasOwnProperty(f)&&e.push(f);if(!1===c.b.Cb(e,d))return e}};c.aa=function(b,a,d,e,f,h){this.qa=b;this.pa=a;this.D=d;this.H=e;this.U=f;this.Y=h;this.M=!1;this.Z=this.V=void 0;this.g=[]};c.aa.L=function(b,a,d,e,f,h){return new c.aa(b,a,d,e,f,h)};y=c.aa.prototype;y.w=function(){return this.D};y.Aa=function(){return this.qa};y.T=function(){return this.pa};y.S=function(b){if(!1===this.M||b!==this.Z)this.M=!0,this.Z=b,this.V=c.c.$a(this.D,this.H,b,this.U,!1,this.Y);return this.V};y.Xa=function(){};
y.P=function(b,a,d){c.o(!1,"c.DagNodeValue.SetValue start");b===this.D?c.o(!1,"c.DagNodeValue.SetValue bail"):(this.ma(),this.D=b,this.M=!1,this.ka(a),this.X(),K(d),c.o(!1,"c.DagNodeValue.SetValue end"))};y.X=function(){c.o(!1,"c.DagNodeValue.SetDirty start");for(var b=0,a=this.g.length;b<a;b++){var d=this.g[b];void 0!==d&&d.X()}c.o(!1,"c.DagNodeValue.SetDirty end")};y.za=function(){};
y.ma=function(){c.o(!1,"c.DagNodeValue.ClearChildParentLinks start");if(void 0!==this.D){switch(this.H){case c.a.l.ca:var b=this.w();b.ma();break;case c.a.l.da:for(var a=this.w(),d=0,e=a.length;d<e;d++)b=a[d],b.ma();break;case c.a.l.ea:for(key in a=this.w(),a)!1!==a.hasOwnProperty(key)&&(b=a[key],b.ma())}c.o(!1,"c.DagNodeValue.ClearChildParentLinks end")}};
y.ka=function(b){c.o(!1,"c.DagNodeValue.AddChildParentLinks start");if(void 0!==this.D){switch(this.H){case c.a.l.ca:var a=this.w();a.ka(b);break;case c.a.l.da:for(var d=this.w(),e=0,f=d.length;e<f;e++)a=d[e],a.ka(b);break;case c.a.l.ea:for(key in d=this.w(),d)!1!==d.hasOwnProperty(key)&&(a=d[key],a.ka(b))}c.o(!1,"c.DagNodeValue.AddChildParentLinks end")}};y.Ab=function(b){this.g.push(b)};y.Qb=function(b){this.g=this.g.filter(function(a){return a!==b})};
y.toString=function(){for(var b="{m_value:"+this.D+", m_outputArray[",a=0,d=this.g.length;a<d;a++){var e=this.g[a];a&&(b+=", ");b+=e.Aa()}return b+"]}"};c.K={};
c.K.gc=function(b,a){for(var d in b)if(!1!==b.hasOwnProperty(d)){var e=b[d],f=e.za();if(f)for(var h=0,k=f.length;h<k;h++){var n=f[h],q=n[c.f.ra],v=c.f.i.hb===q,u=c.f.i.kb===q;if(!1!==v||!1!==u){var q=n[c.f.N],x=a[q];if(!x)throw e=b?JSON.stringify(Object.keys(b)):"undefined",f=a?JSON.stringify(Object.keys(a)):"undefined",Error("AddNodeMapLinksParent node not found:"+q+" for node:"+d+" subIndex:"+h+" instruction:"+JSON.stringify(n)+" nodeKeysString:"+e+" parentNodeKeysString:"+f);n[c.f.ga]=x;!0===v&&
c.K.Da(x,e);if(!0===u){if(!1===x instanceof c.aa)throw Error("AddNodeMapLinksParent node incorrect type for setNode:"+q+" link from:"+d);c.K.Da(e,x)}}}}};
c.K.Gc=function(b){for(var a in b)if(!1!==b.hasOwnProperty(a)){var d=b[a],e=d.za();if(e)for(var f=0,h=e.length;f<h;f++){var k=e[f],n=k[c.f.ra],q=c.f.i.hb===n,n=c.f.i.kb===n;if(!1!==q||!1!==n){var v=k[c.f.N],u=k[c.f.ga];k[c.f.ga]=void 0;if(void 0===u)throw Error("RemoveNodeMapLinksParent node not found:"+v+" for node:"+a+" subIndex:"+f+" instruction:"+JSON.stringify(k));!0===q&&c.K.Rb(u,d);!0===n&&c.K.Rb(d,u)}}}};
c.K.fc=function(b){for(var a in b)if(!1!==b.hasOwnProperty(a)){var d=b[a],e=d.za();if(e)for(var f=0,h=e.length;f<h;f++){var k=e[f],n=k[c.f.ra],q=c.f.i.Sb===n,v=c.f.i.Tb===n;if(!1!==q||!1!==v){var n=k[c.f.N],u=b[n];if(!u)throw b=b?JSON.stringify(Object.keys(b)):"undefined",Error("AddNodeMapLinks node not found:"+n+" for node:"+a+" subIndex:"+f+" instruction:"+JSON.stringify(k)+" nodeKeysString:"+b);k[c.f.ga]=u;!0===q&&c.K.Da(u,d);if(!0===v){if(!1===u instanceof c.aa)throw Error("AddNodeMapLinks node incorrect type for setNode:"+
n+" link from:"+a);c.K.Da(d,u)}}}}};c.K.Da=function(b,a){b?a?(b.Ab(a),a.X()):c.o(!0,"c.DagNodeCollection.SetNodesLinked in_output:"+a):c.o(!0,"c.DagNodeCollection.SetNodesLinked in_input:"+b)};c.K.Rb=function(b,a){b.Qb(a);a.X()};c.ba={};c.ba.G="type";c.ba.Od="id";c.Document=function(b,a,d){this.H=b;this.g=a;this.D=d};c.Document=c.Document;c.Document.L=function(b,a,d){c.o(!1,"Document.Factory in_type:"+b+" in_mapNameNode:"+a+" in_parentNodeOrUndefined:"+d);return new c.Document(b,a,d)};c.Document.Factory=c.Document.L;c.Document.prototype.na=function(){return this.H};c.Document.prototype.GetType=c.Document.prototype.na;c.Document.prototype.w=function(b){c.o(!1,"Document.GetValue in_name:"+b+" in:"+(b in this.g));if(b in this.g)return this.g[b].w()};
c.Document.prototype.GetValue=c.Document.prototype.w;c.Document.prototype.P=function(b,a){c.o(!1,"c.Document.SetValue name:"+b+" in_value:"+a);b in this.g&&this.g[b].P(a,this.g,this)};c.Document.prototype.SetValue=c.Document.prototype.P;c.Document.prototype.T=function(b){c.o(!1,"c.Document.GetDisplayName name:"+b);return b in this.g?this.g[b].T():b};c.Document.prototype.GetLocaleName=c.Document.prototype.T;
c.Document.prototype.S=function(b,a){c.o(!1,"c.Document.GetDisplayValue name:"+b);return b in this.g?this.g[b].S(a):""};c.Document.prototype.GetDisplayValue=c.Document.prototype.S;c.Document.prototype.M=function(b,a,d){c.o(!1,"Document.SetDisplayValue in_name:"+b+" in:"+(b in this.g));if(b in this.g){b=this.g[b];var e=this.g;a=c.c.Yc(d,a,b.U,b.Y);void 0!==a&&b.P(a,e,this)}};c.Document.prototype.SetDisplayValue=c.Document.prototype.M;
c.Document.prototype.Ba=function(b,a){c.o(!1,"Document.GetTooltip in_name:"+b+" in:"+(b in this.g));if(b in this.g){var d=this.g[b],e=d.Xa(a);return e?[{text:d.S(a),tooltip:e}]:void 0}};c.Document.prototype.GetTooltip=c.Document.prototype.Ba;function K(b){c.o(!1,"Document.OnChildNodeSetDirty");b.D&&b.D.X()}c.Document.prototype.ma=function(){c.o(!1,"Document.ClearChildParentLinks");c.K.Gc(this.g)};c.Document.prototype.ka=function(b){c.o(!1,"Document.AddChildParentLinks");c.K.gc(this.g,b)};
c.Document.prototype.toString=function(){return"disable document to string"};c.c={};c.c.v=function(b,a){var d=a?a[c.B.Pd]:void 0;if(void 0===d||!1===b in d)return b;d=d[b];return void 0===d?b:d};c.c.zc=function(b,a,d,e){if(void 0!==b&&a&&void 0!==d){var f=e[c.B.W][a.na()];a=c.F(e,f[c.B.ua]);var h=c.F(e,f[c.B.Ma]),k=f=void 0;a&&b in a&&(f=a[b][c.a.ta]);h&&b in h&&(b=h[b],f=b[c.f.ta],k=b[c.f.tb]);if(!0===k)return{isLocale:!0};if(void 0!==f)return Object.assign({dimension:f},c.F(e,[c.B.R,c.B.Ha,d,f]))}};
c.c.$a=function(b,a,d,e,f,h){if(!0===f||a===c.a.l.Ea)return c.c.v(b,h);if(a===c.a.l.Fa){d="[";e=0;for(var k=b.length;e<k;e++)a=b[e],e&&(d+=", "),d+=c.c.v(a,h);return d+"]"}if(a===c.a.l.Ga){d="[";for(k in b)!1!==b.hasOwnProperty(k)&&(!0===first?first=!1:d+=", ",d+=c.c.v(k,h));return d+"]"}switch(a){case c.a.l.ca:case c.a.l.da:case c.a.l.ea:return""}k=void 0;void 0!==e&&(k=c.F(h,[c.B.R,c.B.Ha,d,e]));return d=c.c.Fc(b,k)};
c.c.Yc=function(b,a,d,e){c.o(!1,"UnmakeDisplayValue in_displayValue:"+b+" in_units:"+a+" in_dimentionOrUndefined:"+d);var f=void 0;void 0!==d&&(f=c.F(e,[c.B.R,c.B.Ha,a,d]));return c.c.Zc(b,f)};
c.c.Fc=function(b,a){if(void 0===b)return"";if(void 0===a)return b.toString();var d=b*a.convert;if(void 0!==a.divisor)var e=0>d,d=Math.abs(d),d=d/a.divisor,f=Math.floor(d),d=((d-f)*a.divisor).toFixed(0),d=""+(!0===e?"-":"")+f.toFixed(0)+a.name1+d+a.name0;else e=1,void 0!==a.length&&(e=a.length),d=d.toFixed(e)+a.name0;return d};
c.c.Zc=function(b,a){c.o(!1,"UnmakeDisplayValueUnit in_displayValue:"+b+" in_staticUnitData:"+JSON.stringify(a));if(void 0!==a){if(void 0!==a.divisor){var d;d=b.split(a.name0)[0];d=d.split(a.name1);1<d.length?(newValue=0,""!==d[1]&&(newValue+=Math.max(0,Math.min(parseFloat(d[1]),a.divisor))),""!==d[0]&&(newValue+=parseFloat(d[0])*a.divisor)):0<d.length&&(newValue=parseFloat(d[0]))}else d=b.split(a.name0)[0],newValue=parseFloat(d);if(void 0===newValue||!0===isNaN(newValue))newValue=0;newValue/=a.convert;
!0===isNaN(newValue)&&(newValue=0);return newValue}};c.c.ab=function(b,a,d,e){a=c.c.zc(b,a,d,e);var f=c.c.v(b,e);b+="_tooltip";var h=c.c.v(b,e),k=void 0;b!==h&&(k=[h]);a&&k&&(k=c.c.h(k,"__U__",c.c.v("unit_"+d+"_"+a.dimension,e)));return void 0!==k?[{text:f,tooltip:k}]:[f]};
c.c.J=function(b,a){var d=c.Ya(a);if(!(!0===d&&0>=a.length))if(0<b.length&&!0===c.Ya(b[b.length-1])&&!0===d)0<a.length&&(b[b.length-1]+=a);else if(c.oa(a))for(var d=0,e=a.length;d<e;d++)c.c.J(b,a[d]);else void 0!==a&&(!1===d&&"text"in a&&!1==="tooltip"in a?c.c.J(b,a.text):b.push(a))};c.c.h=function(b,a,d){for(var e=[],f=0,h=b.length;f<h;f++){var k=b[f];if(!1!==c.Ya(k))for(;;){var n=k.indexOf(a);if(-1===n)break;c.c.J(e,k.substring(0,n));c.c.J(e,d);k=k.substring(n+a.length)}c.c.J(e,k)}return e};c.j=function(b,a,d){this.g=b;this.yb=a?a:{};this.H=d?d:{}};c.DocumentManager=c.j;c.j.L=function(b,a,d){return new c.j(b,a,d)};c.j.Factory=c.j.L;c.j.prototype.pa=function(){for(var b=Object.keys(this.g[c.B.W]),a={},d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.v(f)}return a};c.j.prototype.GetTypeMap=c.j.prototype.pa;c.j.prototype.V=function(){for(var b=Object.keys(this.H),a={},d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.v(f)}return a};c.j.prototype.GetActionMap=c.j.prototype.V;
c.j.prototype.qa=function(){var b=c.F(this.g,[c.B.R,c.B.Ha]),a={};if(b)for(var b=Object.keys(b),d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.v(f)}return a};c.j.prototype.GetUnitMap=c.j.prototype.qa;c.j.prototype.v=function(b){return c.c.v(b,this.g)};c.j.prototype.GetLocaleData=c.j.prototype.v;c.j.prototype.ab=function(b,a,d){return c.c.ab(b,a,d,this.g)};c.j.prototype.MakePropertyNameTooltipData=c.j.prototype.ab;
c.j.prototype.Z=function(b){var a=this.g[c.B.W][b];if(null==a)return[];b=c.F(this.g,a[c.B.ua]);var a=c.F(this.g,a[c.B.Ma]),d=[];b&&(d=d.concat(Object.keys(b)));a&&(d=d.concat(Object.keys(a)));return d};c.j.prototype.GetDocumentPropertyNameArray=c.j.prototype.Z;
c.j.prototype.Y=function(b,a){var d=this.g[c.B.W][b];if(null!=d){var e=c.F(this.g,d[c.B.ua]),e=e&&a in e?e[a]:void 0,f=(d=c.F(this.g,d[c.B.Ma]))&&a in d?d[a]:void 0,h=d=void 0,k=void 0;void 0!==e&&c.a.G in e&&(d=e[c.a.G]);void 0!==f&&c.f.G in f&&(d=f[c.f.G]);void 0!==e&&(h=c.a.Ub in e?!0===e[c.a.Ub]:!1);void 0!==f&&(h=!0);if(void 0!==e&&c.a.ia in e&&(f=c.F(this.g,e[c.a.ia])))for(v in k={},f)!1!==f.hasOwnProperty(v)&&(k[v]=this.v(v));var n=void 0;if(void 0!==e&&c.a.ha in e&&(f=e[c.a.ha],void 0!==f))for(var n=
{},e=0,q=f.length;e<q;e++){var v=f[e];n[v]=this.v(v)}return{type:d,locked:h,keyoptions:k,childtypeoptions:n}}};c.j.prototype.GetDocumentPropertyData=c.j.prototype.Y;c.j.prototype.U=function(b){if(b in this.H)return this.H[b].input};c.j.prototype.GetActionInputType=c.j.prototype.U;c.j.prototype.xb=function(b,a,d,e,f){if(b in this.H)return this.H[b].run(this,a,d,e,f)};c.j.prototype.RunAction=c.j.prototype.xb;
c.j.prototype.Ca=function(b){c.o(!1,"DocumentManager.NewDocumentData in_type:"+b);if(null==this.g[c.B.W])c.o(!0,"DocumentManager.NewDocumentData gameobject_types undefined");else if(!1===b in this.g[c.B.W])c.o(!0,"DocumentManager.NewDocumentData document_types in_type not found:"+b);else{var a={};a[c.ba.G]=b;b=L(this,a,void 0);a=void 0;b&&(a=this.D(b));return a}};c.j.prototype.NewDocumentData=c.j.prototype.Ca;c.j.prototype.Gb=function(b){return L(this,b,void 0)};
c.j.prototype.DocumentDataToDocument=c.j.prototype.Gb;
function L(b,a,d){c.o(!1,"DocumentManager.DocumentDataToDocument in_documentData:"+JSON.stringify(a)+" in_parentNodeOrUndefined:"+d);if(a){var e=a[c.ba.G];if(null==e)c.o(!0,"DocumentManager.DocumentDataToDocument no type in data document");else{var f=b.g[c.B.W][e];if(null!=f){d=c.Document.L(e,{},d);var e=c.F(b.g,f[c.B.ua]),f=c.F(b.g,f[c.B.Ma]),h=b.yb,h=h?h:{};if(e)for(var k in e){var n=e[k],n=c.aa.L(k,b.v(k),void 0,n[c.a.G],n[c.a.ta],b.g);d.g[k]=n}if(f)for(var q in f){k=b.v(q);var v=f[q],n=v[c.f.G],
u=v[c.f.R];if(void 0===u)c.o(!0,"DocumentManager.DocumentDataToDocument undefined data for calculate node:"+q+" in document data:"+JSON.stringify(a));else{for(var x=[],B=0,C=u.length;B<C;B++){var g=Object.assign({},u[B]);x.push(g)}u=v[c.f.ta];B=v[c.f.tb];void 0===B&&(B=!1);v=v[c.f.Qd];void 0===v&&(v=!1);k=c.xa.L(q,k,n,d,x,u,B,v,b.g,h);d.g[q]=k}}if(e)for(var l in e){q=e[l];f=l in d.g?d.g[l]:void 0;if(!f)throw Error("invalid internal state Lost node:"+l);q=c.b.Hb(a[l],q,b.g,b,f);d.P(l,q)}c.K.fc(d.g);
return d}}}}c.j.prototype.D=function(b){if(b){var a=b.na(),d=this.g[c.B.W][a];if(null!=d){var d=c.F(this.g,d[c.B.ua]),e={};e[c.ba.G]=a;if(d)for(var f in d){var a=d[f],h=b.w(f);void 0!==h&&(a=c.b.Hc(h,a,this.g,this),void 0!==a&&(e[f]=a))}return e}}};c.j.prototype.DocumentToDocumentData=c.j.prototype.D;c.j.prototype.wb=function(b,a,d,e){return c.A.L(b,a,d,e)};c.j.prototype.MakeUpdatePatch=c.j.prototype.wb;c.j.prototype.M=function(b,a){return c.A.Bb(b,a)};c.j.prototype.ApplyUpdatePatch=c.j.prototype.M;c.B={};c.B.W="documenttypes";c.B.ua="value";c.B.Ma="calculate";c.B.Pd="locale";c.B.R="data";c.B.Ha="units";c.u={};c.u.Rd="lock";c.u.R="d";c.u.G="t";c.u.vb="r";c.u.ub="i";c.u.dc="u";c.u.ja="p";c.u.va="v";c.A={};c.ObjectDelta=c.A;c.A.L=function(b,a,d,e){var f=[];e||(e=[]);c.A.Db(f,e,b,a);b={};0<f.length&&(b[c.u.R]=f);void 0!=d&&(b[c.u.Rd]=d);return b};c.A.Factory=c.A.L;
c.A.Na=function(b,a,d,e){if(void 0!==d&&void 0===e)e={},e[c.u.G]=c.u.vb,e[c.u.ja]=c.O(a),b.push(e);else if(void 0===d&&void 0!==e)d={},d[c.u.G]=c.u.ub,d[c.u.ja]=c.O(a),d[c.u.va]=e,b.push(d);else if(void 0!==d&&void 0!==e){var f=Object.prototype.toString.call(d),h=Object.prototype.toString.call(e);f!==h?c.o(!0,"c.ObjectDelta.CollectDelta type missmatch sourceType:"+f+" targetType:"+h+" path:"+JSON.stringify(a)):"[object Array]"===f?c.A.kc(b,a,d,e):"[object Object]"===f?c.A.Db(b,a,d,e):d!==e&&(d={},
d[c.u.G]=c.u.dc,d[c.u.ja]=c.O(a),d[c.u.va]=e,b.push(d))}};c.A.kc=function(b,a,d,e){for(var f=[],h=0,k=e.length;h<k;h++){for(var n=e[h],q=[],v=0,u=d.length;v<u;v++){var x=c.A.wa(d[v],n);0>=x||q.push({s:v,m:x})}f.push(q)}f=c.A.Xc(f);h=u=v=q=0;for(k=f.length;h<k;h++){n=e[h];x=f[h];if(void 0==x)c.A.mc(b,a,n,h),q+=1;else{for(var B=x.s,C=B+q-v;h<C;)c.A.Fb(b,a,C-1),v+=1,C=B+q-v;x=x.m;1>x&&c.A.nc(b,a,d[B],n,C)}u+=1}for(;u<d.length+q-v;)c.A.Fb(b,a,u),v+=1};
c.A.wa=function(b,a){var d=Object.prototype.toString.call(b);if(d!==Object.prototype.toString.call(a))return 0;if("[object Array]"===d){var d=0,e=1;b.length!==a.length&&(e=.5);for(var f=Math.min(b.length,a.length),h=0;h<f;h++)d+=c.A.wa(b[h],a[h]);h=1;0<f&&(h=d/f);return h*e}if("[object Object]"===d){d=f=0;for(key in b)!1!==b.hasOwnProperty(key)&&(f+=1,d+=c.A.wa(b[key],a[key]));for(key in a)!1===a.hasOwnProperty(key)||key in b||(f+=1,d+=c.A.wa(b[key],a[key]));h=1;0<f&&(h=d/f);return h}return b===a?
1:0};c.A.Fb=function(b,a,d){var e={};a=c.O(a);a.push(d);e[c.u.G]=c.u.vb;e[c.u.ja]=a;b.push(e)};c.A.mc=function(b,a,d,e){var f={};a=c.O(a);a.push(e);f[c.u.G]=c.u.ub;f[c.u.ja]=a;f[c.u.va]=d;b.push(f)};c.A.nc=function(b,a,d,e,f){a=c.O(a);a.push(f);c.A.Na(b,a,d,e)};c.A.Xc=function(b){for(var a=[],d=-1,e=0,f=b.length;e<f;e++){for(var h=b[e],k=void 0,n=0,q=h.length;n<q;n++){var v=h[n];if(d<v.s){d=v.s;k=v;break}}a.push(k)}return a};
c.A.Db=function(b,a,d,e){for(key in d)if(!1!==d.hasOwnProperty(key)){var f=c.O(a);f.push(key);c.A.Na(b,f,d[key],e[key])}for(key in e)!1===e.hasOwnProperty(key)||key in d||(f=c.O(a),f.push(key),c.A.Na(b,f,d[key],e[key]))};
c.A.Bb=function(b,a){var d=c.Oa(b),e=a[c.u.R];if(null==e)return d;for(var f=0,h=e.length;f<h;f++){var k=e[f],n=k[c.u.G],q=c.O(k[c.u.ja]);switch(n){case c.u.vb:k=q[q.length-1];q.splice(-1,1);q=c.F(d,q);!0===c.oa(q)?q.splice(k,1):delete q[k];break;case c.u.ub:n=q[q.length-1];q.splice(-1,1);q=c.F(d,q);k=k[c.u.va];!0===c.oa(q)?q.splice(n,0,k):q[n]=k;break;case c.u.dc:k=k[c.u.va],c.Pb(d,q,k)}}return d};c.A.ApplyDelta=c.A.Bb;c.I=function(b){this.g=b%233280};c.RandomSequence=c.I;c.I.L=function(b){return new c.I(b)};c.I.Factory=c.I.L;c.I.g=function(){return Math.floor(233280*Math.random())};c.I.MakeSeed=c.I.g;c.I.prototype.D=function(){this.g=(9301*this.g+49297)%233280;return this.g/233280};c.I.prototype.Random=c.I.prototype.D;c.I.prototype.H=function(){return this.g};c.I.prototype.GetCurrentSeed=c.I.prototype.H;
c.I.prototype.M=function(b,a){a||(a=[]);a.length=b.length;for(var d=0;d<a.length;++d)a[d]=b[d];for(d=a.length;d;){var e=Math.floor(this.D()*d),d=d-1,f=a[d];a[d]=a[e];a[e]=f}return a};c.I.prototype.ShuffelArray=c.I.prototype.M;c.zb={};c.ActionContext=c.zb;c.C={};c.InstructionContext=c.C;c.zb.luckroll={input:"action_luck_roll_input",run:function(b,a,d,e){var f=a.w("random_seed"),h=c.I.L(f),f=[h.D()],h=h.H(),k=b.Ca("action_luck_roll");b=b.Gb(k);b.P("input",a);b.P("rand",f);a={finished:!0,state:{result:b.w("pass"),seed:h}};!0===e&&(d=b.Ba("pass",d),void 0!==d&&(a.delta_log=[d]));return a}};c.C.floor=function(b){return Math.floor(b)};c.C.ceil=function(b){return Math.ceil(b)};c.C.log2=function(b){return Math.log2(b)};c.C.sumarray=function(b){var a=0;if(void 0!=b)for(var d=0,e=b.length;d<e;d++)a+=b[d];return a};c.C.abs=function(b){return Math.abs(b)};c.C.length=function(b){var a=0;!0===c.oa(b)&&(a=b.length);return a};c.C.add=function(b,a){return b+a};c.C.minus=function(b,a){return b-a};c.C.mul=function(b,a){return b*a};c.C.div=function(b,a){return b/a};
c.C.pow=function(b,a){return Math.pow(b,a)};c.C.max=function(b,a){return Math.max(b,a)};c.C.min=function(b,a){return Math.min(b,a)};c.C.dotcat=function(b,a){return b+"."+a};c.C.log=function(b,a){return Math.log(b)/Math.log(a)};c.C.sizediff=function(b,a){var d=a-b,e=0>d,d=Math.abs(d),d=Math.floor(d+.5);!0===e&&(d=-d);return d};c.C.rawattribute=function(b,a,d){a=Math.min(b,a-d);return d+a+.5*Math.max(0,b-a)};
c.C.arraydocumentfiltermember=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f],n=k.w(b);-1!==d.indexOf(n)&&e.push(k)}return e};c.C.arraydocumentfiltermembermap=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f],n=k.w(b);void 0!==n&&d in n&&e.push(k)}return e};c.C.arraydocumentfiltermemberequal=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f];k.w(b)===d&&e.push(k)}return e};
c.C.arrayfilterlength=function(b,a){var d=[];if(void 0!==a)for(var e=0,f=Math.min(a.length,b);e<f;e++)d.push(a[e]);return d};c.C.arraydocumentfiltertype=function(b,a){var d=[];if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var h=a[e];void 0!==h&&h.na()===b&&d.push(h)}return d};c.C.getmodeindex=function(b,a){if(void 0!==a)for(var d=0,e=a.length;d<e;d++){var f=a[d],h=f.w("loadout_left_hand"),k=f.w("loadout_right_hand"),f=f.w("loadout_left_right_hand");if(-1!=h.indexOf(b)||-1!=k.indexOf(b)||-1!=f.indexOf(b))return d}};
c.C.selecthighestlevel=function(b){for(var a=void 0,d=0,e=b.length;d<e;d++){var f=b[d];if(!0===f.w("active"))if(void 0===a)a=f;else{var h=a.w("level"),k=f.w("level");h<k?a=f:h==k&&f.w("start")<a.w("start")&&(a=f)}}return a};c.C.evaluerestrictions=function(b,a,d){if(void 0!==b)for(var e=0,f=b.length;e<f;e++)if(!0!==d[b[e]])return!1;if(void 0!==a)for(e=0,f=a.length;e<f;e++)if(!1!==d[a[e]])return!1;return!0};
c.C.evalueattributes=function(b,a){for(var d in a)if(!1!==a.hasOwnProperty(d)){var e=a[d];if(d in b&&e<b[d])return!1}return!0};c.C.maketrainingmap=function(b,a){var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var h=a[e],k=h.skill,h=h.training;!1!==h in b&&(trainingAmount=b[h],!1===k in d||d[k]<trainingAmount)&&(d[k]=trainingAmount)}return d};
c.C.makeskillmap=function(b,a){var d={};if(void 0!==b)for(var e=0,f=b.length;e<f;e++){var h=b[e],k=h.w("skill"),h=h.w("skill_level");d[k]=h}if(void 0!==a)for(var n in a)!1!==a.hasOwnProperty(n)&&(n in d||(d[n]=a[n]));return d};c.C.selectbestskill=function(b,a,d,e){if(void 0!==d){if(void 0!==b)for(var f=0,h=b.length;f<h;f++){var k=b[f];k in d&&(e=Math.max(e,d[k]))}if(void 0!==a)for(f=0,h=a.length;f<h;f++)k=a[f],k in d&&(e=Math.max(e,Math.floor(d[k]/2)))}return e};
c.C.diceroll=function(b,a,d,e){for(var f=0;f<b;++f)d+=Math.ceil(e[f]*a);return d};
