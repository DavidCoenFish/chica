

//@ sourceMappingURL=legendaryquest.map

for(var t="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},u="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,v=["Math","log2"],w=0;w<v.length-1;w++){var x=v[w];x in u||(u[x]={});u=u[x]}var z=v[v.length-1],A=u[z],B=function(a){return a?a:function(a){return Math.log(a)/Math.LN2}}(A);
B!=A&&null!=B&&t(u,z,{configurable:!0,writable:!0,value:B});c={D:function(a,b,d){d=void 0!=d&&1==d;!0!==a&&!0!==d||console.info(b);!0===d&&alert(b)},G:function(a,b){var d=a;if(a&&b){for(var e=0,f=b.length;e<f&&(d=d[b[e]],void 0!==d);e++);return d}}};c.PathObjectGet=c.G;c.sb=function(a,b,d){var e=a;if(a&&b){a=0;for(var f=b.length;a<f;a++){var k=b[a];if(a===b.length-1){e[k]=d;break}e=e[k];if(void 0===e)break}}};c.PathObjectSet=c.sb;c.T=function(a){for(var b=[],d=0,e=a.length;d<e;d++)b.push(a[d]);return b};
c.Ja=function(a){if(a instanceof Array){result=[];for(var b=0,d=a.length;b<d;b++)result[b]=c.Ja(a[b]);return result}if(a instanceof Object){result={};for(b in a)a.hasOwnProperty(b)&&(result[b]=c.Ja(a[b]));return copy}a instanceof Date&&c.D(!0,"instance of class Date in DeepClone");return a};c.Ra=function(a,b){for(var d="",e=a;0<e;--e)d+=b[Math.floor(Math.random()*b.length)];return d};c.RandomString=c.Ra;c.mb=function(a){return Array.isArray(a)};c.pd=function(a){return"[object Number]"===Object.prototype.toString.call(a)};c.c={};c.c.Ea="data";c.c.ga="op";
c.c.h={ad:"pushconst",Qc:"getstaticdataobject",tb:"getnode",ub:"setnode",Oc:"getdocumentvalue",cd:"setdocumentvalue",Pc:"getobjectvalue",dd:"setobjectvalue",Xc:"objecthaskey",Wc:"objectaddkey",Yc:"objectremovekey",Zc:"objecttostack",hd:"stacktoobject",Ec:"dup",bd:"remove",Rc:"if",Sc:"ifexit",jd:"testundefined",Dc:"clear",Fc:"equal",Uc:"lessequal",Tc:"less",Bc:"and",$c:"or",Vc:"not",Cc:"arraytostack",gd:"stacktoarray",ed:"stackalltrue",fd:"stackanytrue",Gc:"f0",Hc:"f1",Ic:"f2",Jc:"f3",Kc:"f4",Lc:"f5",
Mc:"f6",Nc:"f7"};c.c.M="value";c.c.Sa="node";c.c.C="type";c.c.g={qa:"bool",ra:"boolarray",xa:"int",ya:"intarray",ua:"float",va:"floatarray",Ba:"string",Ca:"stringarray",Da:"stringmap",za:"key",Aa:"keyarray",sa:"document",ta:"documentarray",wa:"iddocumentmap",td:"unknown",ud:"unknownarray"};c.cb={};
c.cb.Hb=function(a,b,d,e){c.D(!1,"DagNodeCalculateHelper.CalculateValue");a.length=0;for(var f=!0,k=0,m=b.length;k<m&&!0===f;k++){var h=b[k];if(!h)throw Error("null instruction at:"+k);var g=h[c.c.ga];switch(g){default:throw Error("invalid instruction at:"+k+" operation:"+g);case c.c.h.ad:g=h[c.c.M];a.push(g);break;case c.c.h.Qc:var h=a.pop(),l=c.G(d,h);a.push(l);break;case c.c.h.tb:h=h[c.c.Sa];g=h.K();a.push(g);break;case c.c.h.ub:g=a.pop();h=h[c.c.Sa];h.S(g);break;case c.c.h.Oc:h=a.pop();if(0==
("string"===typeof h||h instanceof String))throw Error("GetDocumentValue valueName not string:"+typeof h);l=a.pop();g=l instanceof c.Document;if(0==("c.Document"===typeof l||g))throw Error("GetDocumentValue document not document:"+typeof l);g=l.K(h);a.push(g);break;case c.c.h.cd:g=a.pop();h=a.pop();l=a.pop();l.S(h,g);break;case c.c.h.Pc:h=a.pop();g=a.pop();l=g[h];a.push(l);break;case c.c.h.dd:h=a.pop();g=a.pop();l=a.pop();l[h]=g;a.push(l);break;case c.c.h.Xc:h=a.pop();g=a.pop();l=h in g;a.push(l);
break;case c.c.h.Wc:h=a.pop();l=a.pop();l[h]=0;a.push(l);break;case c.c.h.Yc:h=a.pop();l=a.pop();delete l[h];a.push(l);break;case c.c.h.Zc:var g=a.pop(),q;for(q in g)g.hasOwnProperty(q)&&(a.push(g[q]),a.push(q));break;case c.c.h.hd:for(l={};1<a.length;)h=a.pop(),g=a.pop(),l[h]=g;a.push(l);break;case c.c.h.Ec:g=a.pop();h=a.length-1-g;l=a[h];a.push(l);break;case c.c.h.bd:g=a.pop();h=a.length-1-g;a.splice(h,1);break;case c.c.h.Rc:h=a.pop();g=a.pop();l=a.pop();a.push(h?g:l);break;case c.c.h.Sc:g=a.pop();
!0===g&&(f=!1);break;case c.c.h.jd:g=a.pop();l=void 0===g;a.push(l);break;case c.c.h.Dc:a.length=0;break;case c.c.h.Fc:g=a.pop();l=a.pop();l=g==l;a.push(l);break;case c.c.h.Uc:g=a.pop();l=a.pop();l=g<=l;a.push(l);break;case c.c.h.Tc:g=a.pop();l=a.pop();l=g<l;a.push(l);break;case c.c.h.Bc:g=a.pop();l=a.pop();l=g&&l;a.push(l);break;case c.c.h.$c:g=a.pop();l=a.pop();l=g||l;a.push(l);break;case c.c.h.Vc:g=a.pop();l=!g;a.push(l);break;case c.c.h.Cc:for(g=a.pop();0<g.length;)a.push(g.pop());break;case c.c.h.gd:for(g=
[];0<a.length;)g.push(a.pop());a.push(g);break;case c.c.h.ed:for(l=!0;0<a.length;)h=a.pop(),l=l&&h;a.push(l);break;case c.c.h.fd:for(l=!1;0<a.length;)if(h=a.pop(),!0===h){l=!0;a.length=0;break}a.push(l);break;case c.c.h.Gc:h=h[c.c.M];h=e[h];g=h();a.push(g);break;case c.c.h.Hc:g=a.pop();h=h[c.c.M];h=e[h];g=h(g);a.push(g);break;case c.c.h.Ic:g=a.pop();l=a.pop();h=h[c.c.M];h=e[h];g=h(g,l);a.push(g);break;case c.c.h.Jc:var g=a.pop(),l=a.pop(),n=a.pop(),h=h[c.c.M],h=e[h],g=h(g,l,n);a.push(g);break;case c.c.h.Kc:var g=
a.pop(),l=a.pop(),n=a.pop(),p=a.pop(),h=h[c.c.M],h=e[h],g=h(g,l,n,p);a.push(g);break;case c.c.h.Lc:var g=a.pop(),l=a.pop(),n=a.pop(),p=a.pop(),r=a.pop(),h=h[c.c.M],h=e[h],g=h(g,l,n,p,r);a.push(g);break;case c.c.h.Mc:var g=a.pop(),l=a.pop(),n=a.pop(),p=a.pop(),r=a.pop(),y=a.pop(),h=h[c.c.M],h=e[h],g=h(g,l,n,p,r,y);a.push(g);break;case c.c.h.Nc:var g=a.pop(),l=a.pop(),n=a.pop(),p=a.pop(),r=a.pop(),y=a.pop(),C=a.pop(),h=h[c.c.M],h=e[h],g=h(g,l,n,p,r,y,C);a.push(g)}}if(1!=a.length)throw Error("invalid calculation stack:"+
a.length+" "+JSON.stringify(a));return a[0]};c.A=function(a,b,d,e,f){this.w=a;this.Y=b;this.fa=e;this.N=d;this.nd=f;this.I=void 0;this.f=[];this.o=!0;this.Za=[]};c.DagNodeCalculate=c.A;c.A.F=function(a,b,d,e,f){return new c.A(a,b,d,e,f)};c.A.Factory=c.A.F;c.A.prototype.U=function(){return this.w};c.A.prototype.GetName=c.A.prototype.U;
c.A.prototype.K=function(){c.D(!1,"DagNodeCalculate.GetValue dirty:"+this.o+" name:"+this.w);if(1==this.o){this.o=!1;try{this.I=c.cb.Hb(this.Za,this.N,this.fa,this.nd)}catch(a){c.D(!0,"SWALLOWING EXCEPTION: GetValue name:"+this.w+" threw error:"+a+" this:"+this),this.I=void 0}}return this.I};c.A.prototype.GetValue=c.A.prototype.K;c.A.prototype.da=function(){return this.o};c.A.prototype.GetDirty=c.A.prototype.da;
c.A.prototype.O=function(){if(1!=this.o){this.o=!0;for(var a=0,b=this.f.length;a<b;a++){var d=this.f[a];null!=d&&d.O()}a=this.Y;a.f&&a.f.O()}};c.A.prototype.ca=function(a){this.f.push(a)};c.A.prototype.ea=function(a){this.f=this.f.filter(function(b){return b!==a})};
c.A.prototype.toString=function(){for(var a="{m_name:"+this.w+", m_value:"+this.I+", m_dirty:"+this.o+", m_outputArray:[",b=0,d=this.f.length;b<d;b++){var e=this.f[b];b&&(a+=", ");a+=e.U()}a+="], m_instructionArray:[";b=0;for(d=this.N.length;b<d;b++)e=this.N[b],b&&(a+=", "),a+="{op:"+e[c.c.ga]+",value:"+e[c.c.M]+"}";return a+"]}"};c.A.prototype.toString=c.A.prototype.toString;c.b={};c.b.vb="clientlocked";c.b.C="type";c.b.g={qa:"bool",ra:"boolarray",xa:"int",ya:"intarray",ua:"float",va:"floatarray",Ba:"string",Ca:"stringarray",Da:"stringmap",za:"key",Aa:"keyarray",sa:"document",ta:"documentarray",wa:"iddocumentmap"};c.b.ha="defaultvaluebool";c.b.Fa="defaultvalueint";c.b.Ta="defaultvalueintdatenow";c.b.ja="defaultvaluefloat";c.b.la="defaultvaluestring";c.b.xb="defaultvaluestringrandid";c.b.wb="defaultvaluestringranddatabaseid";c.b.Va="defaultvaluestringmap";c.b.Ga="defaultvaluekey";
c.b.ka="defaultvaluekeyuserand";c.b.Ua="defaultvaluekeyrandarray";c.b.ia="defaultvaluedocumenttype";c.b.Z="keypath";c.b.ma="documenttypearray";c.b.H="arraylengthmin";c.b.J="arraylengthmax";c.b.Db="stringlengthmin";c.b.Cb="stringlengthmax";c.b.Bb="intrangelow";c.b.Ab="intrangehigh";c.b.zb="floatrangelow";c.b.yb="floatrangehigh";c.a={};c.DagNodeValueHelper=c.a;
c.a.gb=function(a,b,d,e,f){switch(b[c.b.C]){case c.b.g.qa:return c.a.Lb(a,b);case c.b.g.ra:return c.a.Ka(a,b);case c.b.g.xa:return c.a.Qb(a,b);case c.b.g.ya:return c.a.Ma(a,b);case c.b.g.ua:return c.a.Ob(a,b);case c.b.g.va:return c.a.La(a,b);case c.b.g.Ba:return c.a.Sb(a,b);case c.b.g.Ca:return c.a.Oa(a,b);case c.b.g.Da:return c.a.Tb(a,b);case c.b.g.za:return c.a.Rb(a,b,d);case c.b.g.Aa:return c.a.Na(a,b,d);case c.b.g.sa:return c.a.Mb(a,b,e,f);case c.b.g.ta:return c.a.Nb(a,b,e,f);case c.b.g.wa:return c.a.Pb(a,
b,e,f)}};c.a.FactoryValue=c.a.gb;c.a.ba=function(a,b,d,e){if(void 0!==d&&a.length<d)for(;a.length<d;)a.push(b);void 0!==e&&e<a.length&&(a.length=e)};c.a.R=function(a,b,d,e){if(void 0!==d&&a.length<d)for(;a.length<d;)a.push(b());void 0!==e&&e<a.length&&(a.length=e)};c.a.V=function(a){return function(){return(" "+a).slice(1)}};c.a.rb=function(a){return function(){return a[Math.floor(Math.random()*a.length)]}};c.a.jc=function(){return function(){return c.a.Qa()}};c.a.ic=function(){return function(){return c.a.Pa()}};
c.a.Lb=function(a,b){var d=b[c.b.ha];return!0===a?!0:!1===a?!1:void 0!==d?d:!1};c.a.Ka=function(a,b){var d=b[c.b.ha],e;if(void 0!=a&&Array.isArray(a)){e=a;for(var f=0,k=e.length;f<k;f++)e[f]=!0===e[f]}else e=[];c.a.ba(e,void 0!==d?d:!1,b[c.b.H],b[c.b.J]);return e};c.a.Qb=function(a,b){var d=b[c.b.Fa],d=void 0!==d?d:0;!0===b[c.b.Ta]&&(d=(new Date).valueOf());return c.a.ib(a,d,b[c.b.Bb],b[c.b.Ab])};
c.a.ib=function(a,b,d,e){a="number"===typeof a?Math.round(a):b;void 0!==d&&(a=Math.max(d,a));void 0!==e&&(a=Math.min(e,a));return a};c.a.Ma=function(a,b){var d=b[c.b.Fa],d=void 0!==d?d:0;!0===b[c.b.Ta]&&(d=(new Date).valueOf());var e=b[c.b.Bb],f=b[c.b.Ab],k;if(void 0!=a&&Array.isArray(a)){k=a;for(var m=0,h=k.length;m<h;m++){var g=k[m],g=c.a.ib(g,d,e,f);k[m]=g}}else k=[];c.a.ba(k,d,b[c.b.H],b[c.b.J]);return k};
c.a.hb=function(a,b,d,e){a="number"===typeof a?a:b;void 0!==d&&(a=Math.max(d,a));void 0!==e&&(a=Math.min(e,a));return a};c.a.Ob=function(a,b){var d=b[c.b.ja];return c.a.hb(a,void 0!==d?d:0,b[c.b.zb],b[c.b.yb])};c.a.La=function(a,b){var d=b[c.b.ja],d=void 0!==d?d:0,e=b[c.b.zb],f=b[c.b.yb],k;if(void 0!=a&&Array.isArray(a)){k=a;for(var m=0,h=k.length;m<h;m++){var g=k[m],g=c.a.hb(g,d,e,f);k[m]=g}}else k=[];c.a.ba(k,d,b[c.b.H],b[c.b.J]);return k};
c.a.kb=function(a,b,d,e){var f=void 0;"string"===typeof a||a instanceof String?f=a:f=b;if(void 0!==d&&f.length<d)for(;f.length<d;)f+="_";void 0!==e&&e<f.length&&(f=f.substr(0,e));return f};c.a.Sb=function(a,b){var d=b[c.b.la],d=void 0!==d?d:"";!0===b[c.b.xb]&&(d=c.a.Qa());!0===b[c.b.wb]&&(d=c.a.Pa());return c.a.kb(a,d,b[c.b.Db],b[c.b.Cb])};
c.a.Oa=function(a,b){var d=b[c.b.la],d=void 0!==d?d:"",e=b[c.b.Db],f=b[c.b.Cb],k;if(void 0!=a&&Array.isArray(a)){k=a;for(var m=0,h=k.length;m<h;m++){var g=k[m],g=c.a.kb(g,d,e,f);k[m]=g}}else k=[];e=b[c.b.H];f=b[c.b.J];d=c.a.V(d);!0===b[c.b.xb]&&(d=c.a.jc);!0===b[c.b.wb]&&(d=c.a.ic);c.a.R(k,d,e,f);return k};
c.a.lb=function(a,b){var d={};if(void 0===a||!1===Array.isArray(a))a=b;if(void 0!=a&&Array.isArray(a))for(var e=0,f=a.length;e<f;e++){var k=a[e];if("string"===typeof k||k instanceof String)d[k]=0}return d};c.a.Tb=function(a,b){return c.a.lb(a,b[c.b.Va])};c.a.jb=function(a,b,d,e,f){return("string"===typeof a||a instanceof String)&&e&&a in e?a:!0===d&&f?f[Math.floor(Math.random()*f.length)]:b};
c.a.Rb=function(a,b,d){d=c.G(d,b[c.b.Z]);var e=b[c.b.Ga],f=b[c.b.ka];b=b[c.b.Ua];var k=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&k.push(temp_key);void 0!==b&&(k=b);void 0==e&&(0<k.length?e=k[0]:e="");return c.a.jb(a,e,f,d,k)};
c.a.Na=function(a,b,d){d=c.G(d,b[c.b.Z]);var e=b[c.b.Ga],f=b[c.b.ka],k=b[c.b.Ua],m=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&m.push(temp_key);void 0!==k&&(m=k);void 0==e&&(0<m.length?e=m[0]:e="");if(void 0!=a&&Array.isArray(a))for(var k=[],h=0,g=a.length;h<g;h++)innerResult=c.a.jb(a[h],e,f,d,m),k[h]=innerResult;else k=[];c.a.R(k,!0===f&&0<m.length?c.a.rb(m):c.a.V(e),b[c.b.H],b[c.b.J]);return k};c.a.Qa=function(){return c.Ra(16,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789")};
c.a.Pa=function(){return c.Ra(24,"0123456789ABCDEF")};c.a.pa=function(a,b,d,e,f){if(e){var k=null,m=void 0;null!==a&&"object"===typeof a&&(m=e.o(a,f));m&&void 0!==d&&(k=m.w(),-1===d.indexOf(k)&&(m=void 0));if(!m){if(void 0===b)return;a=e.I(b);m=e.o(a,f)}m||c.D(!0,"c.DagNodeValueHelper.FactoryValueDocumentClean could not find type:"+k+" defaultType:"+b,!0);return m}};
c.a.Mb=function(a,b,d,e){if(!d)return null;var f=b[c.b.ia];b=b[c.b.ma];void 0===f&&void 0!==b&&0<b.length&&(f=b[0]);return c.a.pa(a,f,b,d,e)};c.a.Nb=function(a,b,d,e){var f=b[c.b.ia],k=b[c.b.ma];void 0===f&&void 0!==k&&0<k.length&&(f=k[0]);if(void 0!=a&&Array.isArray(a)){for(var m=[],h=0,g=a.length;h<g;h++){var l=a[h];(l=c.a.pa(l,f,k,d,e))&&m.push(l)}a=m}else a=[];c.a.R(a,c.a.hc(f,d,e),b[c.b.H],b[c.b.J]);return a};
c.a.Pb=function(a,b,d,e){b=b[c.b.ma];var f;if(void 0!=a&&Array.isArray(a)){f={};for(var k=0,m=a.length;k<m;k++){var h=c.a.pa(a[k],void 0,b,d,e);if(h){var g=h.K(c.X.ld);void 0!==g&&(f[g]=h)}}}else f={};return f};c.a.hc=function(a,b,d){return function(){var e=b.I(a);return b.o(e,d)}};c.a.kc=function(a){return function(){return c.a.lb(void 0,a)}};
c.a.nb=function(a,b,d,e){var f=a[c.b.C];switch(f){case c.b.g.qa:return c.a.Ub(a);case c.b.g.ra:return c.a.Vb(a);case c.b.g.xa:return c.a.pb(a);case c.b.g.ya:return c.a.cc(a);case c.b.g.ua:return c.a.Zb(a);case c.b.g.va:return c.a.$b(a);case c.b.g.Ba:return c.a.ec(a);case c.b.g.Ca:return c.a.fc(a);case c.b.g.Da:return c.a.gc(a);case c.b.g.za:return c.a.qb(a,b);case c.b.g.Aa:return c.a.dc(a,b);case c.b.g.sa:return c.a.ob(a,d,e);case c.b.g.ta:return c.a.Yb(a,d,e);case c.b.g.wa:return c.a.bc()}c.D(!0,
"c.DagNodeValueHelper.MakeClearFunction type not found:"+f,!0);return function(){c.D(!0,"c.DagNodeValueHelper.MakeClearFunction type not found:"+f,!0)}};c.a.MakeClearFunction=c.a.nb;c.a.Ub=function(a){var b=a[c.b.ha],b=void 0!==b?b:!1;return function(){return b}};c.a.Vb=function(a){var b=a[c.b.ha],b=void 0!==b?b:!1,d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.ba(a,b,d,e);return a}};
c.a.pb=function(a){var b=a[c.b.Fa],b=void 0!==b?b:0,d=a[c.b.Ta];return function(){return!0===d?(new Date).valueOf():b}};c.a.cc=function(a){var b=c.a.pb(a),d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.R(a,b,d,e);return a}};c.a.Zb=function(a){var b=a[c.b.ja],b=void 0!==b?b:0;return function(){return b}};c.a.$b=function(a){var b=a[c.b.ja],b=void 0!==b?b:0,d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.ba(a,b,d,e);return a}};c.a.ec=function(a){a=a[c.b.la];return c.a.V(void 0!==a?a:"")};
c.a.fc=function(a){var b=a[c.b.la],d=a[c.b.H],e=a[c.b.J],f=c.a.V(void 0!==b?b:"");return function(){var a=[];c.a.R(a,f,d,e);return a}};c.a.qb=function(a,b){var d=c.G(b,a[c.b.Z]),e=a[c.b.Ga],f=a[c.b.ka],k=a[c.b.Ua],m=[];if(d)for(temp_key in d)d.hasOwnProperty(temp_key)&&m.push(temp_key);void 0!==k&&(m=k);void 0==e&&(0<m.length?e=m[0]:e="");return!0===f&&0<m.length?c.a.rb(m):c.a.V(e)};c.a.dc=function(a,b){var d=c.a.qb(a,b),e=a[c.b.H],f=a[c.b.J];return function(){var a=[];c.a.R(a,d,e,f);return a}};
c.a.Xb=function(a){var b=a[c.b.xd];a=a[c.b.yd];b=void 0!==b?b:0;return!0===a?function(){return new Date}:function(){return new Date(b)}};c.a.rd=function(a){var b=c.a.Xb(a),d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.R(a,b,d,e);return a}};c.a.ac=function(a){var b=a[c.b.zd];return!0===a[c.b.Ad]?function(){return c.a.Qa()}:c.a.V(void 0!==b?b:"")};c.a.sd=function(a){var b=c.a.ac(a),d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.R(a,b,d,e);return a}};
c.a.Wb=function(a){var b=a[c.b.vd];return!0===a[c.b.wd]?function(){return c.a.Pa()}:c.a.V(void 0!==b?b:"")};c.a.qd=function(a){var b=c.a.Wb(a),d=a[c.b.H],e=a[c.b.J];return function(){var a=[];c.a.R(a,b,d,e);return a}};c.a.ob=function(a,b,d){var e=a[c.b.ia],f=a[c.b.ma];return function(){c.a.pa(void 0,e,f,b,d)}};c.a.Yb=function(a,b,d){var e=c.a.ob(a,b,d),f=a[c.b.H],k=a[c.b.J];return function(){var a=[];c.a.R(a,e,f,k);return a}};c.a.bc=function(){return function(){return{}}};c.a.gc=function(a){return c.a.kc(a[c.b.Va])};
c.a.lc=function(a,b,d,e){switch(b[c.b.C]){case c.b.g.qa:return c.a.mc(a,b);case c.b.g.ra:return c.a.nc(a,b);case c.b.g.xa:return c.a.tc(a,b);case c.b.g.ya:return c.a.uc(a,b);case c.b.g.ua:return c.a.qc(a,b);case c.b.g.va:return c.a.rc(a,b);case c.b.g.Ba:return c.a.xc(a,b);case c.b.g.Ca:return c.a.yc(a,b);case c.b.g.Da:return c.a.zc(a,b);case c.b.g.za:return c.a.vc(a,b,d);case c.b.g.Aa:return c.a.wc(a,b,d);case c.b.g.sa:return c.a.oc(a,b,e);case c.b.g.ta:return c.a.pc(a,b,e);case c.b.g.wa:return c.a.sc(a,
e)}};c.a.mc=function(a,b){var d=b[c.b.ha];void 0===d&&(d=!1);if(!0===a&&a!==d||!1===a&&a!==d)return a};c.a.nc=function(a,b){var d=c.a.Ka(a,b),e=c.a.Ka(void 0,b);if(!0!==c.a.aa(d,e))return d};c.a.tc=function(a,b){var d=b[c.b.Fa];if("number"===typeof a){var e=Math.round(a);if(e!==(void 0!==d?d:0))return e}};c.a.uc=function(a,b){var d=c.a.Ma(a,b),e=c.a.Ma(void 0,b);if(!0!==c.a.aa(d,e))return d};c.a.qc=function(a,b){var d=b[c.b.ja];if("number"===typeof a&&a!==(void 0!==d?d:0))return a};
c.a.rc=function(a,b){var d=c.a.La(a,b),e=c.a.La(void 0,b);if(!0!==c.a.aa(d,e))return d};c.a.xc=function(a,b){var d=b[c.b.la];if(("string"===typeof a||a instanceof String)&&(void 0!==d?d:"")!==a)return a};c.a.yc=function(a,b){var d=c.a.Oa(a,b),e=c.a.Oa(void 0,b);if(!0!==c.a.aa(d,e))return d};c.a.vc=function(a,b,d){d=c.G(d,b[c.b.Z]);var e=b[c.b.Ga];!0===b[c.b.ka]&&(e=void 0);if(d&&("string"===typeof a||a instanceof String)&&a in d&&a!==e)return a};
c.a.wc=function(a,b,d){a=c.a.Na(a,b,d);if(1==b[c.b.ka])return a;b=c.a.Na(void 0,b,d);if(!0!==c.a.aa(a,b))return a};c.a.oc=function(a,b,d){var e=b[c.b.ma],f=void 0;"GetType"in a&&(f=a.GetType());var k=void 0;void 0!==e&&void 0!==f&&-1!==e.indexOf(f)&&(k=d.w(a));if(k&&(f!==b[c.b.ia]||1!==Object.keys(k).length))return k};
c.a.pc=function(a,b,d){if(void 0!=a&&!1!==Array.isArray(a)){var e=[],f=b[c.b.ia];b=b[c.b.H];void 0===b&&(b=0);b=1&a.length==b;for(var k=0,m=a.length;k<m;k++){var h=d.w(a[k]);b&=h.type===f&&1===Object.keys(h).length;e.push(h)}if(1!=b)return e}};c.a.sc=function(a,b){if(void 0!=a){var d=0,e=[];for(id in a)if(a.hasOwnProperty(id)){var f=a[id];void 0!=f&&"GetValue"in f&&f.K("id")===id&&(f=b.w(f),e.push(f),d+=1)}if(d)return e}};
c.a.aa=function(a,b){var d=void 0!=b&&Array.isArray(b);if(0==(void 0!=a&&Array.isArray(a))||0==d||a.length!=b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d]!==b[d])return!1;return!0};c.a.od=function(a,b){var d=void 0!=b&&Array.isArray(b);if(0==(void 0!=a&&Array.isArray(a))||0==d||a.length!=b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d].valueOf()!==b[d].valueOf())return!1;return!0};
c.a.Gb=function(a,b){var d=void 0!=b&&Array.isArray(b);if(0==(void 0!=a&&Array.isArray(a))||0==d||a.length!=b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(-1===b.indexOf(a[d]))return!1;return!0};c.a.zc=function(a,b){var d=b[c.b.Va];void 0===d&&(d=[]);var e;if(void 0!==a){e=[];for(temp_key in a)a.hasOwnProperty(temp_key)&&e.push(temp_key);if(!1===c.a.Gb(e,d))return e}};c.i=function(a,b,d,e){this.I=a;this.N=b;this.w=d;this.Y=e;this.f=[];this.o=[]};c.DagNodeValue=c.i;c.i.F=function(a,b,d,e){return new c.i(a,b,d,e)};c.i.Factory=c.i.F;c.i.prototype.ab=function(){var a=this.Y();a!==this.w&&(this.w=a,this.O())};c.i.prototype.Clear=c.i.prototype.ab;c.i.prototype.K=function(){c.D(!1,"DagNodeValue.GetValue name:"+this.I);return this.w};c.i.prototype.GetValue=c.i.prototype.K;
c.i.prototype.S=function(a){if(a===this.w)return!1;for(var b=0,d=this.o.length;b<d;b++){var e=this.o[b];void 0!==e&&e.ab()}this.w=a;this.O();return!0};c.i.prototype.SetValue=c.i.prototype.S;c.i.prototype.O=function(){for(var a=0,b=this.f.length;a<b;a++){var d=this.f[a];void 0!==d&&d.O()}this.N&&(a=this.N,a.f&&a.f.O())};c.i.prototype.SetDirty=c.i.prototype.O;c.i.prototype.U=function(){return this.I};c.i.prototype.GetName=c.i.prototype.U;c.i.prototype.ca=function(a){this.f.push(a)};
c.i.prototype.AddOutput=c.i.prototype.ca;c.i.prototype.ea=function(a){this.f=this.f.filter(function(b){return b!==a})};c.i.prototype.RemoveOutput=c.i.prototype.ea;c.i.prototype.fa=function(a){this.o.push(a)};c.i.prototype.AddExclusive=c.i.prototype.fa;c.i.prototype.Za=function(a){this.o=this.o.filter(function(b){return b!==a})};c.i.prototype.RemoveExclusive=c.i.prototype.Za;
c.i.prototype.toString=function(){for(var a="{m_name:"+this.I+", m_value:"+this.w+", m_outputArray:[",b=0,d=this.f.length;b<d;b++){var e=this.f[b];b&&(a+=", ");a+=e.U()}a+="], m_exclusiveArray[";b=0;for(d=this.o.length;b<d;b++)e=this.o[b],b&&(a+=", "),a+=e.U();return a+"]}"};c.i.prototype.toString=c.i.prototype.toString;c.eb={};c.eb.Fb=function(a,b){for(var d=0,e=b.length;d<e;d++)for(var f=b[d],k=f.N,m=0,h=k.length;m<h;m++){var g=k[m],l=g[c.c.ga],q=c.c.h.tb===l,l=c.c.h.ub===l;if(!1!==q||!1!==l){var n=g[c.c.M],p=a[n];if(!p)throw Error("AddNodeMapLinks node not found:"+n);g[c.c.Sa]=p;!0===q&&c.v.f(p,f);if(!0===l){if(!1===p instanceof c.i)throw Error("AddNodeMapLinks node incorrect type for setNode:"+n);c.v.f(f,p)}}}};c.v=function(a){this.f=a};c.DagNodeCollection=c.v;c.v.F=function(a){return new c.v(a)};c.v.Factory=c.v.F;c.v.prototype.K=function(a){c.D(!1,"DagNodeCollection.GetValue in_name:"+a+" in:"+(a in this.f));if(a in this.f)return this.f[a].K()};c.v.prototype.GetValue=c.v.prototype.K;c.v.prototype.S=function(a,b){a in this.f&&this.f[a].S(b)};c.v.prototype.SetValue=c.v.prototype.S;c.v.prototype.w=function(a){c.D(!0,"DagNodeCollection.GetNode in_name:"+a);if(a in this.f)return this.f[a]};
c.v.prototype.GetNode=c.v.prototype.w;c.v.prototype.o=function(a,b){this.f[a]=b};c.v.prototype.SetNode=c.v.prototype.o;c.v.f=function(a,b){a?b?(a.ca(b),b.O()):c.D(!0,"c.DagNodeCollection.SetNodesLinked in_output:"+b):c.D(!0,"c.DagNodeCollection.SetNodesLinked in_input:"+a)};c.v.SetNodesLinked=c.v.f;c.v.o=function(a,b){a.ea(b);b.O()};c.v.SetNodesUnlinked=c.v.o;
c.v.prototype.toString=function(){var a="{m_mapNameNode:{",b=!0,d;for(d in this.f)!0===b?b=!1:a+=", ",a+=d+":"+this.f[d].toString();return a+"}}"};c.X={};c.X.C="type";c.X.ld="id";c.Document=function(a,b,d){this.I=a;this.o=b;this.f=d};c.Document=c.Document;c.Document.F=function(a,b,d){return new c.Document(a,b,d)};c.Document.Factory=c.Document.F;c.Document.prototype.w=function(){return this.I};c.Document.prototype.GetType=c.Document.prototype.w;c.Document.prototype.K=function(a){c.D(!1,"c.Document.GetValue name:"+a);return this.o.K(a)};c.Document.prototype.GetValue=c.Document.prototype.K;c.Document.prototype.S=function(a,b){!0===this.o.S(a,b)&&null!==this.f&&this.f.O()};
c.Document.prototype.SetValue=c.Document.prototype.S;c.Document.prototype.N=function(){var a=this.o,b=[],d;for(d in a.f){var e=a.f[d];e.da&&!0===e.da()&&b.push(d)}return b};c.Document.prototype.GetDirtyArray=c.Document.prototype.N;c.Document.prototype.toString=function(){var a="{m_type:"+this.I+",";this.f&&(a+="m_parentNode:"+this.f.U()+",");a+="m_dagCollection:"+this.o+"}";return a+"}"};c.u=function(a,b){this.f=a;this.N=b};c.DocumentManager=c.u;c.u.F=function(a,b){return new c.u(a,b)};c.u.Factory=c.u.F;c.u.prototype.Y=function(){return Object.keys(this.f[c.B.W])};c.u.prototype.GetTypeNameArray=c.u.prototype.Y;c.u.prototype.ea=function(a){var b=this.f[c.B.W][a];if(null==b)return[];a=c.G(this.f,b[c.B.Ha]);var b=c.G(this.f,b[c.B.Wa]),d=[];a&&(d=d.concat(Object.keys(a)));b&&(d=d.concat(Object.keys(b)));return d};c.u.prototype.GetDocumentPropertyNameArray=c.u.prototype.ea;
c.u.prototype.I=function(a){if(null==this.f[c.B.W])c.D(!0,"DocumentManager.NewDocumentData gameobject_types undefined");else if(!1===a in this.f[c.B.W])c.D(!0,"DocumentManager.NewDocumentData document_types in_type not found:"+a);else{var b={};b[c.X.C]=a;a=this.o(b,void 0);b=void 0;a&&(b=this.w(a));return b}};c.u.prototype.NewDocumentData=c.u.prototype.I;
c.u.prototype.da=function(a,b){var d=this.f[c.B.W][a];if(null!=d){var e=c.G(this.f,d[c.B.Ha]),e=e&&b in e?e[b]:void 0,f=(d=c.G(this.f,d[c.B.Wa]))&&b in d?d[b]:void 0,k=d=void 0,m=void 0;void 0!==e&&c.b.C in e&&(d=e[c.b.C]);void 0!==f&&c.c.C in f&&(d=f[c.c.C]);void 0!==e&&(k=c.b.vb in e?!0===e[c.b.vb]:!1);void 0!==f&&(k=!0);void 0!==e&&c.b.Z in e&&(e=c.G(this.f,e[c.b.Z]))&&(m=Object.keys(e));return{type:d,locked:k,keyoptions:m}}};c.u.prototype.GetDocumentPropertyData=c.u.prototype.da;
c.u.prototype.o=function(a,b){if(a){var d=a[c.X.C];if(null==d)c.D(!0,"DocumentManager.DocumentDataToDocument no type in data document");else{var e=this.f[c.B.W][d];if(null!=e){var f=c.v.F({}),d=c.Document.F(d,f,b),k=c.G(this.f,e[c.B.Ha]),m=c.G(this.f,e[c.B.Wa]),h=e[c.B.kd],e={};void 0!=h&&this.N&&(e=this.N[h]);e=void 0===e?{}:e;if(k)for(var g in k){var l=k[g],h=c.i.F(g,d,void 0,void 0),q=c.a.nb(l,this.f,this,h),l=c.a.gb(a[g],l,this.f,this,h);h.S(l);h.Y=q;f.o(g,h)}g=[];if(m)for(var n in m){k=m[n][c.c.Ea];
h=[];q=0;for(l=k.length;q<l;q++){var p=k[q],r={};r[c.c.ga]=p[c.c.ga];r[c.c.M]=p[c.c.M];h.push(r)}k=c.A.F(n,d,h,this.f,e);g.push(k);f.o(n,k)}c.eb.Fb(f.f,g);return d}}}};c.u.prototype.DocumentDataToDocument=c.u.prototype.o;c.u.prototype.w=function(a){if(a){var b=a.w(),d=this.f[c.B.W][b];if(null!=d){var d=c.G(this.f,d[c.B.Ha]),e={};e[c.X.C]=b;if(d)for(var f in d){var b=d[f],k=a.K(f);void 0!==k&&(b=c.a.lc(k,b,this.f,this),void 0!==b&&(e[f]=b))}return e}}};c.u.prototype.DocumentToDocumentData=c.u.prototype.w;
c.u.prototype.fa=function(a,b,d,e){return c.l.F(a,b,d,e)};c.u.prototype.MakeUpdatePatch=c.u.prototype.fa;c.u.prototype.ca=function(a,b){return c.l.$a(a,b)};c.u.prototype.ApplyUpdatePatch=c.u.prototype.ca;c.B={};c.B.W="documenttypes";c.B.Ha="value";c.B.Wa="calculate";c.B.kd="instructioncontext";c.j={};c.j.md="lock";c.j.Ea="d";c.j.C="t";c.j.Ya="r";c.j.Xa="i";c.j.Eb="u";c.j.$="p";c.j.na="v";c.l={};c.ObjectDelta=c.l;c.l.F=function(a,b,d,e){var f=[];e||(e=[]);c.l.bb(f,e,a,b);a={};0<f.length&&(a[c.j.Ea]=f);void 0!=d&&(a[c.j.md]=d);return a};c.l.Factory=c.l.F;
c.l.Ia=function(a,b,d,e){if(void 0!==d&&void 0===e)e={},e[c.j.C]=c.j.Ya,e[c.j.$]=c.T(b),a.push(e);else if(void 0===d&&void 0!==e)d={},d[c.j.C]=c.j.Xa,d[c.j.$]=c.T(b),d[c.j.na]=e,a.push(d);else if(void 0!==d&&void 0!==e){var f=Object.prototype.toString.call(d),k=Object.prototype.toString.call(e);f!==k?c.D(!0,"c.ObjectDelta.CollectDelta type missmatch sourceType:"+f+" targetType:"+k+" path:"+JSON.stringify(b)):"[object Array]"===f?c.l.Ib(a,b,d,e):"[object Object]"===f?c.l.bb(a,b,d,e):d!==e&&(d={},d[c.j.C]=
c.j.Eb,d[c.j.$]=c.T(b),d[c.j.na]=e,a.push(d))}};c.l.Ib=function(a,b,d,e){for(var f=[],k=0,m=e.length;k<m;k++){for(var h=e[k],g=[],l=0,q=d.length;l<q;l++){var n=c.l.oa(d[l],h);0>=n||g.push({s:l,m:n})}f.push(g)}f=c.l.Ac(f);k=q=l=g=0;for(m=f.length;k<m;k++){h=e[k];n=f[k];if(void 0==n)c.l.Jb(a,b,h,k),g+=1;else{for(var p=n.s,r=p+g-l;k<r;)c.l.fb(a,b,r-1),l+=1,r=p+g-l;n=n.m;1>n&&c.l.Kb(a,b,d[p],h,r)}q+=1}for(;q<d.length+g-l;)c.l.fb(a,b,q),l+=1};
c.l.oa=function(a,b){var d=Object.prototype.toString.call(a);if(d!==Object.prototype.toString.call(b))return 0;if("[object Array]"===d){var d=0,e=1;a.length!==b.length&&(e=.5);for(var f=Math.min(a.length,b.length),k=0;k<f;k++)d+=c.l.oa(a[k],b[k]);k=1;0<f&&(k=d/f);return k*e}if("[object Object]"===d){d=f=0;for(key in a)!1!==a.hasOwnProperty(key)&&(f+=1,d+=c.l.oa(a[key],b[key]));for(key in b)!1===b.hasOwnProperty(key)||key in a||(f+=1,d+=c.l.oa(a[key],b[key]));k=1;0<f&&(k=d/f);return k}return a===b?
1:0};c.l.fb=function(a,b,d){var e={};b=c.T(b);b.push(d);e[c.j.C]=c.j.Ya;e[c.j.$]=b;a.push(e)};c.l.Jb=function(a,b,d,e){var f={};b=c.T(b);b.push(e);f[c.j.C]=c.j.Xa;f[c.j.$]=b;f[c.j.na]=d;a.push(f)};c.l.Kb=function(a,b,d,e,f){b=c.T(b);b.push(f);c.l.Ia(a,b,d,e)};c.l.Ac=function(a){for(var b=[],d=-1,e=0,f=a.length;e<f;e++){for(var k=a[e],m=void 0,h=0,g=k.length;h<g;h++){var l=k[h];if(d<l.s){d=l.s;m=l;break}}b.push(m)}return b};
c.l.bb=function(a,b,d,e){for(key in d)if(!1!==d.hasOwnProperty(key)){var f=c.T(b);f.push(key);c.l.Ia(a,f,d[key],e[key])}for(key in e)!1===e.hasOwnProperty(key)||key in d||(f=c.T(b),f.push(key),c.l.Ia(a,f,d[key],e[key]))};
c.l.$a=function(a,b){var d=c.Ja(a),e=b[c.j.Ea];if(null==e)return d;for(var f=0,k=e.length;f<k;f++){var m=e[f],h=m[c.j.C],g=c.T(m[c.j.$]);switch(h){case c.j.Ya:m=g[g.length-1];g.splice(-1,1);g=c.G(d,g);!0===c.mb(g)?g.splice(m,1):delete g[m];break;case c.j.Xa:h=g[g.length-1];g.splice(-1,1);g=c.G(d,g);m=m[c.j.na];!0===c.mb(g)?g.splice(h,0,m):g[h]=m;break;case c.j.Eb:m=m[c.j.na],c.sb(d,g,m)}}return d};c.l.ApplyDelta=c.l.$a;c.L={};c.InstructionContext=c.L;c.L.P={};c.L.lqre=c.L.P;c.L.P.floor=function(a){return Math.floor(a)};c.L.P.ceil=function(a){return Math.ceil(a)};c.L.P.log2=function(a){return Math.log2(a)};c.L.P.sumarray=function(a){var b=0;if(void 0!=a)for(var d=0,e=a.length;d<e;d++)b+=a[d];return b};c.L.P.add=function(a,b){return a+b};c.L.P.minus=function(a,b){return a-b};c.L.P.mul=function(a,b){return a*b};c.L.P.div=function(a,b){return a/b};c.L.P.dotcat=function(a,b){return a+"."+b};
c.L.P.rawattribute=function(a,b){var d=Math.min(a,b+2);return-2+d+.5*Math.max(0,a-d)};
