<!doctype html>
<!--[if lt IE 7 ]> <html class="ie ie6 ie-lt10 ie-lt9 ie-lt8 ie-lt7 no-js" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 ie-lt10 ie-lt9 ie-lt8 no-js" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 ie-lt10 ie-lt9 no-js" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 ie-lt10 no-js" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en" style="height:100%;">
<!--<![endif]-->

	<head>
		<meta charset="utf-8"/>
		<title>redux 00</title>
		<link rel="stylesheet" href="css/reset.css" />
		<link rel="stylesheet" href="css/style.css" />
	</head>

	<body style="height:100%;">
		<div id="root" style="height:100%;"/>

		<script src="js/3rdparty/react.js"></script>
		<script src="js/3rdparty/react-dom.js"></script>
		<script src="js/3rdparty/redux.js"></script>
		<script src="js/3rdparty/react-redux.js"></script>
		<script src="js/3rdparty/FileSaver.js"></script>
		<script src="js/3rdparty/reselect.js"></script>

		<script type="text/javascript">
const e = React.createElement;
		</script>

		<script src="js/documentedit.js"></script>
		<script src="js/documenteditinner.js"></script>
		<script src="js/menu.js"></script>
		<script src="js/modaldialog.js"></script>
		<script src="js/system.js"></script>
		<script src="js/tooltip.js"></script>
		<script src="js/undoredo.js"></script>

		<script src="js/app.js"></script>

		<script type="text/javascript">
const gStaticsystem = {
	"version": "dev 0.0.20170830.14",
	"documenttypes": {
		"test": {
			"value": [
				"test"
			]
		},
		"child":{
			"value": [
				"child"
			]
		}
	},
	"keypath" : {
		"0" : null,
		"1" : null
	},
	"child" : {
		"name" : {
			"type" : "string"
		},
		"id" : {
			"type" : "string"
		}
	},
	"test" : {
		"bool" : {
			"type" : "bool"
		},
		"boolarray" : {
			"type" : "boolarray"
		},
		"int" : {
			"type" : "int"
		},
		"intarray" : {
			"type" : "intarray"
		},
		"float" : {
			"type" : "float"
		},
		"floatarray" : {
			"type" : "floatarray"
		},
		"string" : {
			"type" : "string"
		},
		"stringarray" : {
			"type" : "stringarray"
		},
		"key" : {
			"type" : "key",
			"keypath" : ["keypath"],
			"defaultvaluekey" : "0"
		},
		"keyarray" : {
			"type" : "keyarray",
			"keypath" : ["keypath"],
			"defaultvaluekey" : "0"
		},
		"document" : {
			"type" : "document",
			"documenttypearray" : ["child"]
		},
		"documentarray" : {
			"type" : "documentarray",
			"documenttypearray" : ["child"]
		},
		"iddocumentmap" : {
			"type" : "iddocumentmap",
			"documenttypearray" : ["child"]
		},
		"hashset" : {
			"type" : "hashset"
		},
		"hashsetarray" : {
			"type" : "hashsetarray"
		}
	}

};
		</script>

		<script type="text/javascript">


const AppReducer = window.Redux.combineReducers({
	"navigation" : ReducerNavigation,
	"undoRedo" : ReducerUndoRedo(ReducerDocumentData),
	"modalDialogStack" : ReducerModalDialogStack
});

const gReduxStore = window.Redux.createStore(AppReducer);
gReduxStore.subscribe(function(){console.log(JSON.stringify(gReduxStore.getState())); });
const gDocumentManager = c.DocumentManager.Factory(gStaticsystem, c.InstructionContext);

gReduxStore.dispatch({"type" : "undo"});

ReactDOM.render(
	e(window.ReactRedux.Provider, {"store" : gReduxStore}, 
		e(App, {"staticData" : gStaticsystem, "documentManager" : gDocumentManager})), 
	document.getElementById("root")
);
		</script>
	</body>
</html>
