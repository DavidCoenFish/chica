

//@ sourceMappingURL=legendaryquest.map

var z,F="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)},G="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function I(b,a){if(a){var d=G;b=b.split(".");for(var e=0;e<b.length-1;e++){var f=b[e];f in d||(d[f]={});d=d[f]}b=b[b.length-1];e=d[b];a=a(e);a!=e&&null!=a&&F(d,b,{configurable:!0,writable:!0,value:a})}}
I("Object.assign",function(b){return b?b:function(a,b){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])}return a}});I("Math.log2",function(b){return b?b:function(a){return Math.log(a)/Math.LN2}});c={v:function(b,a,d){d=void 0!=d&&1==d;!0!==b&&!0!==d||console.info(a);!0===d&&alert(a)},PathObjectGet:function(b,a){var d=b;if(void 0!=b&&void 0!=a){b=0;for(var e=a.length;b<e&&(d=d[a[b]],void 0!==d);b++);return d}}};c.G=c.PathObjectGet;c.Sb=function(b,a,d){var e=b;if(void 0!=b&&void 0!=a){b=0;for(var f=a.length;b<f;b++){var h=a[b];if(b===a.length-1){e[h]=d;break}e=e[h];if(void 0===e)break}}};c.PathObjectSet=c.Sb;c.R=function(b){for(var a=[],d=0,e=b.length;d<e;d++)a.push(b[d]);return a};
c.Sa=function(b){if(b instanceof Array){var a=[];for(var d=0,e=b.length;d<e;d++)a[d]=c.Sa(b[d]);return a}if(b instanceof Object){a={};for(d in b)b.hasOwnProperty(d)&&(a[d]=c.Sa(b[d]));return a}b instanceof Date&&c.v(!1,"instance of class Date in DeepClone");return b};c.hb=function(b,a){for(var d="";0<b;--b)d+=a[Math.floor(Math.random()*a.length)];return d};c.RandomString=c.hb;c.ea=function(b){return Array.isArray(b)};c.Yd=function(b){return"[object Number]"===Object.prototype.toString.call(b)};
c.cb=function(b){return"string"===typeof b};c.g={};c.g.U="data";c.g.ua="op";
c.g.j={Id:"pushconst",xd:"getstaticdataobject",Vb:"getnode",Wb:"setnode",mb:"getparentnode",qb:"setparentnode",ud:"getdocumentvalue",Ld:"setdocumentvalue",td:"getdocumentarrayvalue",vd:"getdocumentvaluearray",sd:"getarrayvalue",Kd:"setarrayvalue",wd:"getobjectvalue",Md:"setobjectvalue",Ed:"objecthaskey",Dd:"objectaddkey",Fd:"objectremovekey",Gd:"objecttostack",Qd:"stacktoobject",yd:"if",Rd:"testundefined",Jd:"replaceundefined",jd:"equal",Ad:"lessequal",zd:"less",ed:"and",Hd:"or",Sd:"xor",Cd:"not",
hd:"arraytostack",fd:"arrayofarraytostack",Pd:"stacktoarray",Nd:"stackalltrue",Od:"stackanytrue",gd:"arraytomap",Bd:"maptoarray",kd:"f0",ld:"f1",md:"f2",nd:"f3",od:"f4",pd:"f5",qd:"f6",rd:"f7"};c.g.P="value";c.g.ka="node";c.g.I="type";c.g.Vd="tooltipstop";c.g.wa="dimension";c.g.zb="islocale";
c.g.o={ib:"bool",jb:"boolarray",nb:"int",ob:"intarray",kb:"float",lb:"floatarray",rb:"string",sb:"stringarray",tb:"stringmap",Ga:"key",Ha:"keyarray",Ia:"keymap",ga:"document",ha:"documentarray",ia:"iddocumentmap",pb:"object",be:"array",de:"unknown",ee:"unknownarray"};c.Ib={};
c.Ib.lc=function(b,a,d,e,f,h,k,m,u,v,r){var y=b.Ea();c.v(!1,"DagNodeCalculateHelper.CalculateValue name:"+y);a.length=0;for(var A=d.length=0,D=e.length;A<D;A++){var q=e[A];if(null==q)throw Error("null instruction at:"+A);var g=q[c.g.ua];switch(g){default:throw Error("invalid instruction at:"+A+" operation:"+g);case c.g.j.Id:var p=q[c.g.P];a.push(p);!1===r&&(g=q[c.g.zb],void 0===g&&(g=!1),g=c.f.fb(p,void 0,m,u,g,f),d.push(g));break;case c.g.j.xd:g=a.pop();var n=c.G(f,g);a.push(n);if(!1===r){var l=d.pop();
g=[c.f.A("get_static_data_object",f)];g=c.f.l(g,"__A__",l);d.push(g)}break;case c.g.j.Vb:case c.g.j.mb:l=q[c.g.ka];p=l.u();a.push(p);!1===r&&(g=[l.S()+"("],q={text:l.Y(m)},l=l.bb(m),void 0!==l&&(q.tooltip=l),c.f.J(g,q),c.f.J(g,")"),d.push(g));break;case c.g.j.Wb:case c.g.j.qb:p=a.pop();l=q[c.g.ka];l.O(p);!1===r&&d.pop();break;case c.g.j.ud:n=a.pop();if(0==("string"===typeof n||n instanceof String))throw Error("GetDocumentValue valueName not string:"+typeof n);p=void 0;var x=a.pop();if(void 0!==x){p=
x instanceof c.Document;if(0==("c.Document"===typeof x||p))throw Error("GetDocumentValue document not document:"+typeof x);p=x.u(n)}a.push(p);if(!1===r){var t;d.pop();d.pop();void 0===p?d.push(""):(void 0!==x&&x.S(n),void 0!==x&&x.Y(n,m),q=void 0!==x?x.T(n,m):void 0,d.push(q))}break;case c.g.j.Ld:p=a.pop();n=a.pop();x=a.pop();void 0!==x&&x.O(n,p);!1===r&&(d.pop(),d.pop(),d.pop());break;case c.g.j.sd:l=a.pop();g=a.pop();n=void 0;void 0!==l&&void 0!==g&&void 0!==g.length&&0<=l&&l<g.length&&(n=g[l]);
a.push(n);!1===r&&(d.pop(),d.pop(),d.push(void 0!==n?n.toString():""));break;case c.g.j.Kd:l=a.pop();p=a.pop();g=a.pop();void 0!==l&&void 0!==g&&void 0!==g.length&&0<=l&&l<g.length&&(g[A]=p);a.push(g);!1===r&&(d.pop(),d.pop(),d.pop(),d.push(""));break;case c.g.j.td:n=a.pop();if(0==("string"===typeof n||n instanceof String))throw Error("GetDocumentArrayValue valueName not string:"+typeof n);g=[];var C=a.pop();if(!1===c.ea(C))throw Error("GetDocumentArrayValue documentArray not array:"+typeof C);l=
0;for(t=C.length;l<t;l++)x=C[l],void 0!==x&&(p=x.u(n),void 0!==p&&g.push(p));a.push(g);if(!1===r){d.pop();d.pop();g=[];var E=0;l=0;for(t=C.length;l<t;l++)if(x=C[l],void 0!==x&&(p=x.u(n),void 0!==p)){0!=E&&c.f.J(g,", ");E+=1;var B=x.S(n);q=x.T(n,m);c.f.J(g,B+"(");c.f.J(g,q);c.f.J(g,")")}d.push(g)}break;case c.g.j.vd:C=a.pop();if(!1===c.ea(C))throw Error("GetDocumentValueArray valueNameArray not array:"+typeof C);x=a.pop();g=[];l=0;for(t=C.length;l<t;l++)n=C[l],p=x.u(n),void 0!==p&&g.push(p);a.push(g);
if(!1===r){d.pop();d.pop();g=[];l=E=0;for(t=C.length;l<t;l++)n=C[l],p=x.u(n),void 0!==p&&(0!=E&&c.f.J(g,", "),E+=1,B=x.S(n),q=x.T(n,m),c.f.J(g,B+"("),c.f.J(g,q),c.f.J(g,")"));d.push(g)}break;case c.g.j.wd:var w=a.pop();p=a.pop();n=void 0;void 0!==p&&(n=p[w]);a.push(n);!1===r&&(t=d.pop(),l=d.pop(),g=["("],c.f.J(g,l),c.f.J(g,")."),c.f.J(g,t),d.push(g));break;case c.g.j.Md:w=a.pop();p=a.pop();n=a.pop();void 0!==n&&(n[w]=p);a.push(n);!1===r&&(d.pop(),d.pop(),d.pop(),d.push(""));break;case c.g.j.Ed:w=
a.pop();p=a.pop();n=!1;void 0!==p&&(n=w in p);a.push(n);break;case c.g.j.Dd:w=a.pop();n=a.pop();n[w]=0;a.push(n);break;case c.g.j.Fd:w=a.pop();n=a.pop();delete n[w];a.push(n);break;case c.g.j.Gd:p=a.pop();for(var H in p)p.hasOwnProperty(H)&&(a.push(p[H]),a.push(H));break;case c.g.j.Qd:for(n={};1<a.length;)g=a.pop(),p=a.pop(),n[g]=p;a.push(n);break;case c.g.j.yd:t=a.pop();l=a.pop();g=a.pop();a.push(t?l:g);!1===r&&(d.pop(),l=d.pop(),g=d.pop(),d.push(t?l:g));break;case c.g.j.Rd:p=a.pop();n=void 0===
p;a.push(n);!1===r&&(t=d.pop(),g=[c.f.A("test_undefined",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",n),d.push(g));break;case c.g.j.Jd:l=a.pop();g=a.pop();void 0!==g?a.push(g):a.push(l);!1===r&&(t=d.pop(),l=d.pop(),void 0!==g?d.push(l):d.push(t));break;case c.g.j.jd:l=a.pop();g=a.pop();n=l==g;a.push(n);!1===r&&(t=d.pop(),l=d.pop(),g=[c.f.A("equal",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),g=c.f.l(g,"__C__",n),d.push(g));break;case c.g.j.Ad:l=a.pop();g=a.pop();n=l<=g;a.push(n);!1===r&&(t=d.pop(),
l=d.pop(),g=[c.f.A("lessequal",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),g=c.f.l(g,"__C__",n),d.push(g));break;case c.g.j.zd:l=a.pop();g=a.pop();n=l<g;a.push(n);!1===r&&(t=d.pop(),l=d.pop(),g=[c.f.A("less",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),g=c.f.l(g,"__C__",n),d.push(g));break;case c.g.j.ed:l=a.pop();g=a.pop();n=l&&g;a.push(n);!1===r&&(t=d.pop(),l=d.pop(),g=[c.f.A("and",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),d.push(g));break;case c.g.j.Hd:l=a.pop();g=a.pop();n=l||g;a.push(n);
!1===r&&(t=d.pop(),l=d.pop(),g=[c.f.A("or",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),d.push(g));break;case c.g.j.Sd:l=a.pop();g=a.pop();n=l!==g;a.push(n);!1===r&&(t=d.pop(),l=d.pop(),g=[c.f.A("xor",f)],g=c.f.l(g,"__A__",t),g=c.f.l(g,"__B__",l),d.push(g));break;case c.g.j.Cd:l=a.pop();n=!l;a.push(n);!1===r&&(t=d.pop(),g=[c.f.A("not",f)],g=c.f.l(g,"__A__",t),d.push(g));break;case c.g.j.hd:p=a.pop();if(void 0!==p)for(l=0,t=p.length;l<t;l++)g=p[p.length-1-l],a.push(g);!1===r&&d.pop();break;case c.g.j.fd:p=
a.pop();if(void 0!==p)for(l=0,t=p.length;l<t;l++)if(q=p[p.length-1-l],void 0!==q)for(n=0,x=q.length;n<x;n++)g=q[q.length-1-n],void 0!==g&&a.push(g);if(!1===r&&(B=d.pop(),void 0!==B))for(l=0,t=B.length;l<t;l++)if(q=B[B.length-1-l],void 0!==q)for(n=0,x=q.length;n<x;n++)g=q[q.length-1-n],void 0!==g&&d.push(g);break;case c.g.j.Pd:for(p=[];0<a.length;)p.push(a.pop());a.push(p);if(!1===r){for(B=[];0<d.length;)B.push(d.pop());d.push(B)}break;case c.g.j.Nd:for(n=!0;0<a.length;)g=a.pop(),n=n&&g;a.push(n);
!1===r&&(d.length=0,d.push(p));break;case c.g.j.Od:for(n=!1;0<a.length;)if(g=a.pop(),!0===g){n=!0;a.length=0;break}a.push(n);!1===r&&(d.length=0,d.push(p));break;case c.g.j.gd:p=a.pop();n={};if(void 0!==p)for(l=0,t=p.length;l<t;l++)q=p[l],n[q]=0;a.push(n);!1===r&&(d.length=0,d.push(n));break;case c.g.j.Bd:p=a.pop();n=[];if(void 0!==p)for(w in p)!1!==p.hasOwnProperty(w)&&n.push(w);a.push(n);!1===r&&(d.pop(),d.push(n));break;case c.g.j.kd:w=q[c.g.P];q=h[w];if(void 0!==q)p=q();else throw Error("F0 method not found:"+
w+" in CalculateValue name:"+y);a.push(p);!1===r&&d.push(c.f.A(w,f));break;case c.g.j.ld:t=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t);else throw Error("F1 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),d.push(g));break;case c.g.j.md:t=a.pop();l=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l);else throw Error("F2 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,
"__A__",l),g=c.f.l(g,"__B__",t),d.push(g));break;case c.g.j.nd:t=a.pop();l=a.pop();g=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l,g);else throw Error("F3 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),q=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),g=c.f.l(g,"__B__",t),g=c.f.l(g,"__C__",q),d.push(g));break;case c.g.j.od:t=a.pop();l=a.pop();g=a.pop();p=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l,g,p);else throw Error("F4 method not found:"+w+" in CalculateValue name:"+
y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),q=d.pop(),n=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),g=c.f.l(g,"__B__",t),g=c.f.l(g,"__C__",q),g=c.f.l(g,"__D__",n),d.push(g));break;case c.g.j.pd:t=a.pop();l=a.pop();g=a.pop();p=a.pop();n=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l,g,p,n);else throw Error("F5 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),q=d.pop(),n=d.pop(),x=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),g=c.f.l(g,"__B__",t),g=c.f.l(g,"__C__",
q),g=c.f.l(g,"__D__",n),g=c.f.l(g,"__E__",x),d.push(g));break;case c.g.j.qd:t=a.pop();l=a.pop();g=a.pop();p=a.pop();n=a.pop();x=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l,g,p,n,x);else throw Error("F6 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),q=d.pop(),n=d.pop(),x=d.pop(),B=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),g=c.f.l(g,"__B__",t),g=c.f.l(g,"__C__",q),g=c.f.l(g,"__D__",n),g=c.f.l(g,"__E__",x),g=c.f.l(g,"__F__",B),d.push(g));break;case c.g.j.rd:t=
a.pop();l=a.pop();g=a.pop();p=a.pop();n=a.pop();x=a.pop();B=a.pop();w=q[c.g.P];q=h[w];if(void 0!==q)p=q(t,l,g,p,n,x,B);else throw Error("F7 method not found:"+w+" in CalculateValue name:"+y);a.push(p);!1===r&&(l=d.pop(),t=d.pop(),q=d.pop(),n=d.pop(),x=d.pop(),B=d.pop(),C=d.pop(),g=[c.f.A(w,f)],g=c.f.l(g,"__A__",l),g=c.f.l(g,"__B__",t),g=c.f.l(g,"__C__",q),g=c.f.l(g,"__D__",n),g=c.f.l(g,"__E__",x),g=c.f.l(g,"__F__",B),g=c.f.l(g,"__G__",C),d.push(g))}}if(0>=a.length)throw Error("invalid calculation stack:"+
a.length+" "+JSON.stringify(a));n=a.pop();g=c.f.fb(n,k,m,u,v,f);b.$=g;if(!1===r){q=[b.S()+"("+g+") = "];if(0>=d.length)throw Error("invalid tooltip stack:"+d.length+" "+JSON.stringify(d));a=d.pop();c.f.J(q,a);b.aa=q}return n};c.Ba=function(b,a,d,e,f,h,k,m,u,v){this.V=b;this.za=a;this.Db=d;this.Qa=e;this.N=f;this.ta=h;this.nc=k;this.Cc=m;this.Cb=u;this.kc=v;this.$=this.aa=this.H=void 0;this.h=[];this.F=!0;this.W="";this.Pa=[];this.qc=[]};c.Ba.L=function(b,a,d,e,f,h,k,m,u,v){return new c.Ba(b,a,d,e,f,h,k,m,u,v)};z=c.Ba.prototype;z.u=function(){c.v(!1,"DagNodeCalculate.GetValue name:"+this.V+" dirty:"+this.F);J(this,this.W);return this.H};
function J(b,a){if(!0===b.F||a!==b.W){b.W=a;b.F=!1;try{b.H=c.Ib.lc(b,b.Pa,b.qc,b.N,b.Cb,b.kc,b.Db,a,b.ta,b.nc,b.Cc)}catch(d){c.v(!0,"SWALLOWING EXCEPTION: GetValue "+b.V+" threw error:"+d+" this:"+b),b.H=void 0}}}z.Ea=function(){return this.V};z.S=function(){return this.za};z.Y=function(b){J(this,b);return this.$};z.bb=function(b){J(this,b);return this.aa};z.Z=function(){if(1!=this.F){this.F=!0;for(var b=0,a=this.h.length;b<a;b++){var d=this.h[b];null!=d&&d.Z()}K(this.Qa)}};z.Eb=function(b){this.h.push(b)};
z.Tb=function(b){this.h=this.h.filter(function(a){return a!==b})};z.Da=function(){return this.N};z.toString=function(){for(var b="{m_value:"+this.H+", m_dirty:"+this.F+", m_outputArray[",a=0,d=this.h.length;a<d;a++){var e=this.h[a];0!==a&&(b+=", ");b+=e.Ea()}b+="], m_instructionArray:[";a=0;for(d=this.N.length;a<d;a++)e=this.N[a],0!==a&&(b+=", "),b+="{op:"+e[c.g.ua]+",value:"+e[c.g.P]+"}";return b+"]}"};c.a={};c.a.Xb="clientlocked";c.a.I="type";c.a.o={ib:"bool",jb:"boolarray",nb:"int",ob:"intarray",kb:"float",lb:"floatarray",rb:"string",sb:"stringarray",tb:"stringmap",Ga:"key",Ha:"keyarray",Ia:"keymap",ga:"document",ha:"documentarray",ia:"iddocumentmap",pb:"object",ce:"objectstringmap"};c.a.ub="defaultvaluebool";c.a.wb="defaultvalueint";c.a.Ma="defaultvalueintuserand";c.a.La="defaultvalueintdatenow";c.a.vb="defaultvaluefloat";c.a.yb="defaultvaluestring";c.a.ac="defaultvaluestringrandid";c.a.$b="defaultvaluestringranddatabaseid";
c.a.Zb="defaultvaluestringmap";c.a.Na="defaultvaluekey";c.a.Yb="defaultvaluekeymap";c.a.va="defaultvaluekeyuserand";c.a.xb="defaultvaluekeyrandarray";c.a.Ka="defaultvaluedocumenttype";c.a.ma="keypath";c.a.la="documenttypearray";c.a.ba="arraylengthmin";c.a.ja="arraylengthmax";c.a.gc="stringlengthmin";c.a.fc="stringlengthmax";c.a.ec="intrangelow";c.a.dc="intrangehigh";c.a.cc="floatrangelow";c.a.bc="floatrangehigh";c.a.wa="dimension";c.b={};c.DagNodeValueHelper=c.b;
c.b.Kb=function(b,a,d,e,f){var h=a[c.a.I];c.v(!1,"c.DagNodeValueHelper.FactoryValue type:"+h);switch(h){case c.a.o.ib:return c.b.rc(b,a);case c.a.o.jb:return c.b.Va(b,a);case c.a.o.nb:return c.b.wc(b,a);case c.a.o.ob:return c.b.Ya(b,a);case c.a.o.kb:return c.b.uc(b,a);case c.a.o.lb:return c.b.Xa(b,a);case c.a.o.rb:return c.b.Ac(b,a);case c.a.o.sb:return c.b.ab(b,a);case c.a.o.tb:return c.b.Bc(b,a);case c.a.o.Ga:return c.b.xc(b,a,d);case c.a.o.Ha:return c.b.Za(b,a,d);case c.a.o.Ia:return c.b.yc(b,
a,d);case c.a.o.ga:return c.b.sc(b,a,e,f);case c.a.o.ha:return c.b.tc(b,a,e,f);case c.a.o.ia:return c.b.vc(b,a,e,f);case c.a.o.pb:return c.b.zc(b)}};c.b.FactoryValue=c.b.Kb;c.b.Ua=function(b,a,d,e){if(void 0!==d&&b.length<d)for(;b.length<d;)b.push(a);void 0!==e&&e<b.length&&(b.length=e)};c.b.Ca=function(b,a,d,e){if(void 0!==d&&b.length<d)for(;b.length<d;)b.push(a());void 0!==e&&e<b.length&&(b.length=e)};
c.b.eb=function(b,a,d,e){if(!0!==a)return b;b=void 0!==d?d:0;return Math.floor(Math.random()*((void 0!==e?e:1)+1-b))+b};c.b.Fc=function(b,a,d,e){return function(){return c.b.eb(b,a,d,e)}};c.b.Pb=function(b){return function(){return(" "+b).slice(1)}};c.b.Ic=function(b){return function(){return b[Math.floor(Math.random()*b.length)]}};c.b.Hc=function(){return function(){return c.b.Rb()}};c.b.Gc=function(){return function(){return c.b.Qb()}};
c.b.rc=function(b,a){a=a[c.a.ub];return!0===b?!0:!1===b?!1:void 0!==a?a:!1};c.b.Va=function(b,a){var d=a[c.a.ub];if(void 0!=b&&Array.isArray(b))for(var e=0,f=b.length;e<f;e++)b[e]=!0===b[e];else b=[];c.b.Ua(b,void 0!==d?d:!1,a[c.a.ba],a[c.a.ja]);return b};c.b.wc=function(b,a){var d=a[c.a.wb];d=void 0!==d?d:0;var e=a[c.a.Ma];!0===a[c.a.La]&&(d=(new Date).valueOf());var f=a[c.a.ec];a=a[c.a.dc];d=c.b.eb(d,e,f,a);return c.b.Mb(b,d,f,a)};
c.b.Mb=function(b,a,d,e){b="number"===typeof b?Math.round(b):a;void 0!==d&&(b=Math.max(d,b));void 0!==e&&(b=Math.min(e,b));return b};c.b.Ya=function(b,a){var d=a[c.a.wb];d=void 0!==d?d:0;var e=a[c.a.Ma];!0===a[c.a.La]&&(d=(new Date).valueOf());var f=a[c.a.ec],h=a[c.a.dc];if(void 0!=b&&Array.isArray(b))for(var k=0,m=b.length;k<m;k++){var u=b[k];d=c.b.eb(d,e,f,h);u=c.b.Mb(u,d,f,h);b[k]=u}else b=[];k=a[c.a.ba];a=a[c.a.ja];c.b.Ua(b,d,k,a);c.b.Ca(b,c.b.Fc(d,e,f,h),k,a);return b};
c.b.Lb=function(b,a,d,e){b="number"===typeof b?b:a;void 0!==d&&(b=Math.max(d,b));void 0!==e&&(b=Math.min(e,b));return b};c.b.uc=function(b,a){var d=a[c.a.vb];return c.b.Lb(b,void 0!==d?d:0,a[c.a.cc],a[c.a.bc])};c.b.Xa=function(b,a){var d=a[c.a.vb];d=void 0!==d?d:0;var e=a[c.a.cc],f=a[c.a.bc];if(void 0!=b&&Array.isArray(b))for(var h=0,k=b.length;h<k;h++){var m=b[h];m=c.b.Lb(m,d,e,f);b[h]=m}else b=[];c.b.Ua(b,d,a[c.a.ba],a[c.a.ja]);return b};
c.b.Nb=function(b,a,d,e){var f=void 0;"string"===typeof b||b instanceof String?f=b:f=a;if(void 0!==d&&f.length<d)for(;f.length<d;)f+="_";void 0!==e&&e<f.length&&(f=f.substr(0,e));return f};c.b.Ac=function(b,a){var d=a[c.a.yb];d=void 0!==d?d:"";!0===a[c.a.ac]&&(d=c.b.Rb());!0===a[c.a.$b]&&(d=c.b.Qb());return c.b.Nb(b,d,a[c.a.gc],a[c.a.fc])};
c.b.ab=function(b,a){var d=a[c.a.yb];d=void 0!==d?d:"";var e=a[c.a.gc],f=a[c.a.fc];if(void 0!=b&&Array.isArray(b))for(var h=0,k=b.length;h<k;h++){var m=b[h];m=c.b.Nb(m,d,e,f);b[h]=m}else b=[];e=a[c.a.ba];f=a[c.a.ja];d=c.b.Pb(d);!0===a[c.a.ac]&&(d=c.b.Hc);!0===a[c.a.$b]&&(d=c.b.Gc);c.b.Ca(b,d,e,f);return b};
c.b.Ob=function(b,a){var d={};if(void 0===b||!1===Array.isArray(b))b=a;if(void 0!=b&&Array.isArray(b)){a=0;for(var e=b.length;a<e;a++){var f=b[a];if("string"===typeof f||f instanceof String)d[f]=0}}return d};c.b.Bc=function(b,a){return c.b.Ob(b,a[c.a.Zb])};c.b.$a=function(b,a,d,e,f){return("string"===typeof b||b instanceof String)&&void 0!=e&&b in e?b:!0===d&&void 0!=f?f[Math.floor(Math.random()*f.length)]:a};
c.b.xc=function(b,a,d){d=c.G(d,a[c.a.ma]);var e=a[c.a.Na],f=a[c.a.va];a=a[c.a.xb];var h=[];if(void 0!=d)for(var k in d)d.hasOwnProperty(k)&&h.push(k);void 0!==a&&(h=a);void 0==e&&(0<h.length?e=h[0]:e="");return c.b.$a(b,e,f,d,h)};
c.b.Za=function(b,a,d){d=c.G(d,a[c.a.ma]);var e=a[c.a.Na],f=a[c.a.va],h=a[c.a.xb],k=[];if(void 0!=d)for(var m in d)d.hasOwnProperty(m)&&k.push(m);void 0!==h&&(k=h);void 0==e&&(0<k.length?e=k[0]:e="");if(void 0!=b&&Array.isArray(b)){m=[];h=0;for(var u=b.length;h<u;h++)m[h]=c.b.$a(b[h],e,f,d,k)}else m=[];c.b.Ca(m,!0===f&&0<k.length?c.b.Ic(k):c.b.Pb(e),a[c.a.ba],a[c.a.ja]);return m};
c.b.yc=function(b,a,d){d=c.G(d,a[c.a.ma]);var e=a[c.a.Na],f=a[c.a.va],h=a[c.a.xb],k=a[c.a.Yb];void 0===k&&(k={});a=[];if(void 0!=d)for(var m in d)d.hasOwnProperty(m)&&a.push(m);void 0!==h&&(a=h);void 0==e&&(0<a.length?e=a[0]:e="");if(void 0!=b&&Array.isArray(b))for(m={},h=0,k=b.length;h<k;h++)m[c.b.$a(b[h],e,f,d,a)]=0;else m=k;return m};c.b.Rb=function(){return c.hb(16,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789")};c.b.Qb=function(){return c.hb(24,"0123456789ABCDEF")};
c.b.Wa=function(b,a,d,e,f){c.v(!1,"c.DagNodeValueHelper.FactoryValueDocumentClean valueOrUndefined:"+b+" defaultType:"+a+" validTypeArray:"+d+" documentManager:"+e+" node:"+f);if(void 0!==e){var h=null,k=void 0;null!==b&&"object"===typeof b&&(k=L(e,b,f));void 0!==k&&void 0!==d&&(h=k.ra(),-1===d.indexOf(h)&&(k=void 0));if(void 0===k){if(void 0===a)return;b=e.sa(a);k=L(e,b,f)}void 0===k&&c.v(!1,"c.DagNodeValueHelper.FactoryValueDocumentClean could not find type:"+h+" defaultType:"+a,!0);return k}};
c.b.sc=function(b,a,d,e){c.v(!1,"c.DagNodeValueHelper.FactoryValueDocument valueOrUndefined:"+b+" metaData:"+a+" documentManager:"+d+" node:"+e);if(void 0===d)return null;var f=a[c.a.Ka];a=a[c.a.la];void 0===f&&void 0!==a&&0<a.length&&(f=a[0]);return c.b.Wa(b,f,a,d,e)};
c.b.tc=function(b,a,d,e){var f=a[c.a.Ka],h=a[c.a.la];void 0===f&&void 0!==h&&0<h.length&&(f=h[0]);if(void 0!=b&&Array.isArray(b)){for(var k=[],m=0,u=b.length;m<u;m++){var v=b[m];v=c.b.Wa(v,f,h,d,e);void 0!=v&&k.push(v)}b=k}else b=[];c.b.Ca(b,c.b.Ec(f,d,e),a[c.a.ba],a[c.a.ja]);return b};c.b.vc=function(b,a,d,e){a=a[c.a.la];if(void 0!=b&&Array.isArray(b)){var f={};for(var h=0,k=b.length;h<k;h++){var m=c.b.Wa(b[h],void 0,a,d,e);if(void 0!==m){var u=m.u(c.fa.Td);void 0!==u&&(f[u]=m)}}}else f={};return f};
c.b.zc=function(b){return void 0!==b?b:{}};c.b.Ec=function(b,a,d){return function(){var e=a.sa(b);return L(a,e,d)}};c.b.Zd=function(b){return function(){return c.b.Ob(void 0,b)}};
c.b.Lc=function(b,a,d,e){switch(a[c.a.I]){case c.a.o.ib:return c.b.Mc(b,a);case c.a.o.jb:return c.b.Nc(b,a);case c.a.o.nb:return c.b.Tc(b,a);case c.a.o.ob:return c.b.Uc(b,a);case c.a.o.kb:return c.b.Qc(b,a);case c.a.o.lb:return c.b.Rc(b,a);case c.a.o.rb:return c.b.Zc(b,a);case c.a.o.sb:return c.b.$c(b,a);case c.a.o.tb:return c.b.ad(b,a);case c.a.o.Ga:return c.b.Vc(b,a,d);case c.a.o.Ha:return c.b.Wc(b,a,d);case c.a.o.Ia:return c.b.Xc(b,a);case c.a.o.ga:return c.b.Oc(b,a,e);case c.a.o.ha:return c.b.Pc(b,
a,e);case c.a.o.ia:return c.b.Sc(b,e);case c.a.o.pb:return c.b.Yc(b)}};c.b.Mc=function(b,a){a=a[c.a.ub];void 0===a&&(a=!1);if(!0===b&&b!==a||!1===b&&b!==a)return b};c.b.Nc=function(b,a){b=c.b.Va(b,a);a=c.b.Va(void 0,a);if(!0!==c.b.pa(b,a))return b};c.b.Tc=function(b,a){var d=a[c.a.wb],e=a[c.a.Ma];a=a[c.a.La];if("number"===typeof b&&(b=Math.round(b),b!==(void 0!==d?d:0)||!0===a||!0===e))return b};
c.b.Uc=function(b,a){b=c.b.Ya(b,a);var d=c.b.Ya(void 0,a),e=a[c.a.Ma];if(!0===a[c.a.La]||!0===e||!0!==c.b.pa(b,d))return b};c.b.Qc=function(b,a){a=a[c.a.vb];if("number"===typeof b&&b!==(void 0!==a?a:0))return b};c.b.Rc=function(b,a){b=c.b.Xa(b,a);a=c.b.Xa(void 0,a);if(!0!==c.b.pa(b,a))return b};c.b.Zc=function(b,a){a=a[c.a.yb];if(("string"===typeof b||b instanceof String)&&(void 0!==a?a:"")!==b)return b};c.b.$c=function(b,a){b=c.b.ab(b,a);a=c.b.ab(void 0,a);if(!0!==c.b.pa(b,a))return b};
c.b.Vc=function(b,a,d){d=c.G(d,a[c.a.ma]);var e=a[c.a.Na];!0===a[c.a.va]&&(e=void 0);if(void 0!=d&&("string"===typeof b||b instanceof String)&&b in d&&b!==e)return b};c.b.Wc=function(b,a,d){b=c.b.Za(b,a,d);if(1==a[c.a.va])return b;a=c.b.Za(void 0,a,d);if(!0!==c.b.pa(b,a))return b};c.b.Xc=function(b,a){a=a[c.a.Yb];void 0===a&&(a=[]);if(void 0!==b){var d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);if(!1===c.b.Gb(d,a))return d}};
c.b.Oc=function(b,a,d){var e=a[c.a.la],f=void 0;"GetType"in b&&(f=b.GetType());var h=void 0;void 0!==e&&void 0!==f&&-1!==e.indexOf(f)&&(h=d.F(b));if(void 0!=h&&(f!==a[c.a.Ka]||1!==Object.keys(h).length))return h};c.b.Pc=function(b,a,d){if(void 0!=b&&!1!==Array.isArray(b)){var e=[],f=a[c.a.Ka];a=a[c.a.ba];void 0===a&&(a=0);a=1&b.length==a;for(var h=0,k=b.length;h<k;h++){var m=d.F(b[h]);a&=m.type===f&&1===Object.keys(m).length;e.push(m)}if(1!=a)return e}};
c.b.Sc=function(b,a){if(void 0!=b){var d=0,e=[],f;for(f in b)if(b.hasOwnProperty(f)){var h=b[f];void 0!=h&&"GetValue"in h&&h.u("id")===f&&(h=a.F(h),e.push(h),d+=1)}if(0!==d)return e}};c.b.Yc=function(b){if(void 0===b)return b;for(var a in b)if(b.hasOwnProperty(a))return b};c.b.pa=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;d=0;for(var e=b.length;d<e;d++)if(b[d]!==a[d])return!1;return!0};
c.b.Xd=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;d=0;for(var e=b.length;d<e;d++)if(b[d].valueOf()!==a[d].valueOf())return!1;return!0};c.b.Gb=function(b,a){var d=void 0!=a&&Array.isArray(a);if(0==(void 0!=b&&Array.isArray(b))||0==d||b.length!=a.length)return!1;d=0;for(var e=b.length;d<e;d++)if(-1===a.indexOf(b[d]))return!1;return!0};
c.b.ad=function(b,a){a=a[c.a.Zb];void 0===a&&(a=[]);if(void 0!==b){var d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);if(!1===c.b.Gb(d,a))return d}};c.da=function(b,a,d,e,f,h){this.za=b;this.ta=a;this.F=d;this.H=e;this.V=f;this.$=h;this.N=!1;this.aa=this.W=void 0;this.h=[]};c.da.L=function(b,a,d,e,f,h){return new c.da(b,a,d,e,f,h)};z=c.da.prototype;z.u=function(){return this.F};z.Ea=function(){return this.za};z.S=function(){return this.ta};z.Y=function(b){if(!1===this.N||b!==this.aa)this.N=!0,this.aa=b,this.W=c.f.fb(this.F,this.H,b,this.V,!1,this.$);return this.W};z.bb=function(){};
z.O=function(b,a,d){c.v(!1,"c.DagNodeValue.SetValue start");b===this.F?c.v(!1,"c.DagNodeValue.SetValue bail"):(this.qa(),this.F=b,this.N=!1,this.oa(a),this.Z(),K(d),c.v(!1,"c.DagNodeValue.SetValue end"))};z.Z=function(){c.v(!1,"c.DagNodeValue.SetDirty start");for(var b=0,a=this.h.length;b<a;b++){var d=this.h[b];void 0!==d&&d.Z()}c.v(!1,"c.DagNodeValue.SetDirty end")};z.Da=function(){};
z.qa=function(){c.v(!1,"c.DagNodeValue.ClearChildParentLinks start");if(void 0!==this.F){switch(this.H){case c.a.o.ga:var b=this.u();b.qa();break;case c.a.o.ha:for(var a=this.u(),d=0,e=a.length;d<e;d++)b=a[d],b.qa();break;case c.a.o.ia:for(d in a=this.u(),a)!1!==a.hasOwnProperty(d)&&(b=a[d],b.qa())}c.v(!1,"c.DagNodeValue.ClearChildParentLinks end")}};
z.oa=function(b){c.v(!1,"c.DagNodeValue.AddChildParentLinks start");if(void 0!==this.F){switch(this.H){case c.a.o.ga:var a=this.u();a.oa(b);break;case c.a.o.ha:for(var d=this.u(),e=0,f=d.length;e<f;e++)a=d[e],a.oa(b);break;case c.a.o.ia:for(e in d=this.u(),d)!1!==d.hasOwnProperty(e)&&(a=d[e],a.oa(b))}c.v(!1,"c.DagNodeValue.AddChildParentLinks end")}};z.Eb=function(b){this.h.push(b)};z.Tb=function(b){this.h=this.h.filter(function(a){return a!==b})};
z.toString=function(){for(var b="{m_value:"+this.F+", m_outputArray[",a=0,d=this.h.length;a<d;a++){var e=this.h[a];0!==a&&(b+=", ");b+=e.Ea()}return b+"]}"};c.M={};
c.M.jc=function(b,a){for(var d in b)if(!1!==b.hasOwnProperty(d)){var e=b[d],f=e.Da();if(void 0!==f)for(var h=0,k=f.length;h<k;h++){var m=f[h],u=m[c.g.ua],v=c.g.j.mb===u,r=c.g.j.qb===u;if(!1!==v||!1!==r){u=m[c.g.P];var y=a[u];if(void 0===y)throw b=null!=b?JSON.stringify(Object.keys(b)):"undefined",a=null!=a?JSON.stringify(Object.keys(a)):"undefined",Error("AddNodeMapLinksParent node not found:"+u+" for node:"+d+" subIndex:"+h+" instruction:"+JSON.stringify(m)+" nodeKeysString:"+b+" parentNodeKeysString:"+a);
m[c.g.ka]=y;!0===v&&c.M.Fa(y,e);if(!0===r){if(!1===y instanceof c.da)throw Error("AddNodeMapLinksParent node incorrect type for setNode:"+u+" link from:"+d);c.M.Fa(e,y)}}}}};
c.M.Kc=function(b){for(var a in b)if(!1!==b.hasOwnProperty(a)){var d=b[a],e=d.Da();if(void 0!==e)for(var f=0,h=e.length;f<h;f++){var k=e[f],m=k[c.g.ua],u=c.g.j.mb===m;m=c.g.j.qb===m;if(!1!==u||!1!==m){var v=k[c.g.P],r=k[c.g.ka];k[c.g.ka]=void 0;if(void 0===r)throw Error("RemoveNodeMapLinksParent node not found:"+v+" for node:"+a+" subIndex:"+f+" instruction:"+JSON.stringify(k));!0===u&&c.M.Ub(r,d);!0===m&&c.M.Ub(d,r)}}}};
c.M.ic=function(b){for(var a in b)if(!1!==b.hasOwnProperty(a)){var d=b[a],e=d.Da();if(void 0!==e)for(var f=0,h=e.length;f<h;f++){var k=e[f],m=k[c.g.ua],u=c.g.j.Vb===m,v=c.g.j.Wb===m;if(!1!==u||!1!==v){m=k[c.g.P];var r=b[m];if(void 0===r)throw b=null!=b?JSON.stringify(Object.keys(b)):"undefined",Error("AddNodeMapLinks node not found:"+m+" for node:"+a+" subIndex:"+f+" instruction:"+JSON.stringify(k)+" nodeKeysString:"+b);k[c.g.ka]=r;!0===u&&c.M.Fa(r,d);if(!0===v){if(!1===r instanceof c.da)throw Error("AddNodeMapLinks node incorrect type for setNode:"+
m+" link from:"+a);c.M.Fa(d,r)}}}}};c.M.Fa=function(b,a){null==b?c.v(!1,"c.DagNodeCollection.SetNodesLinked in_input:"+b):null==a?c.v(!1,"c.DagNodeCollection.SetNodesLinked in_output:"+a):(b.Eb(a),a.Z())};c.M.Ub=function(b,a){b.Tb(a);a.Z()};c.fa={};c.fa.I="type";c.fa.Td="id";c.Document=function(b,a,d){this.H=b;this.h=a;this.F=d};c.Document=c.Document;c.Document.L=function(b,a,d){c.v(!1,"Document.Factory in_type:"+b+" in_mapNameNode:"+a+" in_parentNodeOrUndefined:"+d);return new c.Document(b,a,d)};c.Document.Factory=c.Document.L;c.Document.prototype.ra=function(){return this.H};c.Document.prototype.GetType=c.Document.prototype.ra;c.Document.prototype.u=function(b){c.v(!1,"Document.GetValue in_name:"+b+" in:"+(b in this.h));if(b in this.h)return this.h[b].u()};
c.Document.prototype.GetValue=c.Document.prototype.u;c.Document.prototype.O=function(b,a){c.v(!1,"c.Document.SetValue name:"+b+" in_value:"+a);b in this.h&&this.h[b].O(a,this.h,this)};c.Document.prototype.SetValue=c.Document.prototype.O;c.Document.prototype.S=function(b){c.v(!1,"c.Document.GetDisplayName name:"+b);return b in this.h?this.h[b].S():b};c.Document.prototype.GetLocaleName=c.Document.prototype.S;
c.Document.prototype.Y=function(b,a){c.v(!1,"c.Document.GetDisplayValue name:"+b);return b in this.h?this.h[b].Y(a):""};c.Document.prototype.GetDisplayValue=c.Document.prototype.Y;c.Document.prototype.N=function(b,a,d){c.v(!1,"Document.SetDisplayValue in_name:"+b+" in:"+(b in this.h));if(b in this.h){b=this.h[b];var e=this.h;a=c.f.cd(d,a,b.V,b.$);void 0!==a&&b.O(a,e,this)}};c.Document.prototype.SetDisplayValue=c.Document.prototype.N;
c.Document.prototype.T=function(b,a){c.v(!1,"Document.GetTooltip in_name:"+b+" in:"+(b in this.h));if(b in this.h){var d=this.h[b];b=d.bb(a);a={text:d.Y(a)};void 0!==b&&(a.tooltip=b);return a}};c.Document.prototype.GetTooltip=c.Document.prototype.T;function K(b){c.v(!1,"Document.OnChildNodeSetDirty");void 0!=b.F&&b.F.Z()}c.Document.prototype.qa=function(){c.v(!1,"Document.ClearChildParentLinks");c.M.Kc(this.h)};
c.Document.prototype.oa=function(b){c.v(!1,"Document.AddChildParentLinks");c.M.jc(this.h,b)};c.Document.prototype.toString=function(){return"disable document to string"};c.f={};c.f.A=function(b,a){a=void 0!=a?a[c.D.Ud]:void 0;if(void 0===a||!1===b in a)return b;a=a[b];return void 0===a?b:a};c.f.Dc=function(b,a,d,e){if(void 0!==b&&void 0!==a&&void 0!==d){a=e[c.D.X][a.ra()];var f=c.G(e,a[c.D.xa]),h=c.G(e,a[c.D.Oa]),k=a=void 0;void 0!==f&&b in f&&(a=f[b][c.a.wa]);void 0!==h&&b in h&&(b=h[b],a=b[c.g.wa],k=b[c.g.zb]);if(!0===k)return{isLocale:!0};if(void 0!==a)return d=c.G(e,[c.D.U,c.D.Ja,d,a]),Object.assign({dimension:a},d)}};
c.f.fb=function(b,a,d,e,f,h){if(!0===f||a===c.a.o.Ga)return c.f.A(b,h);if(a===c.a.o.Ha){d="[";var k=0;for(e=b.length;k<e;k++)a=b[k],0!==k&&(d+=", "),d+=c.f.A(a,h);return d+"]"}if(a===c.a.o.Ia){d="[";e=!0;for(k in b)!1!==b.hasOwnProperty(k)&&(!0===e?e=!1:d+=", ",d+=c.f.A(k,h));return d+"]"}switch(a){case c.a.o.ga:case c.a.o.ha:case c.a.o.ia:return""}k=void 0;void 0!==e&&(k=c.G(h,[c.D.U,c.D.Ja,d,e]));return d=c.f.Jc(b,k)};
c.f.cd=function(b,a,d,e){c.v(!1,"UnmakeDisplayValue in_displayValue:"+b+" in_units:"+a+" in_dimentionOrUndefined:"+d);var f=void 0;void 0!==d&&(f=c.G(e,[c.D.U,c.D.Ja,a,d]));return c.f.dd(b,f)};
c.f.Jc=function(b,a){if(void 0===b)return"";if(void 0===a)return b.toString();b*=a.convert;if(void 0!==a.divisor){var d=0>b;b=Math.abs(b);b/=a.divisor;var e=Math.floor(b);b=((b-e)*a.divisor).toFixed(0);a=""+(!0===d?"-":"")+e.toFixed(0)+a.name1+b+a.name0}else d=1,void 0!==a.length&&(d=a.length),a=b.toFixed(d)+a.name0;return a};
c.f.dd=function(b,a){c.v(!1,"UnmakeDisplayValueUnit in_displayValue:"+b+" in_staticUnitData:"+JSON.stringify(a));if(void 0!==a){var d=0;void 0!==a.divisor?(b=b.split(a.name0)[0],b=b.split(a.name1),1<b.length?(d=0,""!==b[1]&&(d+=Math.max(0,Math.min(parseFloat(b[1]),a.divisor))),""!==b[0]&&(d+=parseFloat(b[0])*a.divisor)):0<b.length&&(d=parseFloat(b[0]))):(b=b.split(a.name0)[0],d=parseFloat(b));if(void 0===d||!0===isNaN(d))d=0;d/=a.convert;!0===isNaN(d)&&(d=0);return d}};
c.f.gb=function(b,a,d,e){a=c.f.Dc(b,a,d,e);var f=c.f.A(b,e);b+="_tooltip";var h=c.f.A(b,e),k=void 0;b!==h&&(k=[h]);void 0!==a&&void 0!==k&&(k=c.f.l(k,"__U__",c.f.A("unit_"+d+"_"+a.dimension,e)));return void 0!==k?[{text:f,tooltip:k}]:[f]};
c.f.J=function(b,a){var d=c.cb(a);if(!(!0===d&&0>=a.length))if(0<b.length&&!0===c.cb(b[b.length-1])&&!0===d)0<a.length&&(b[b.length-1]+=a);else if(c.ea(a)){d=0;for(var e=a.length;d<e;d++)c.f.J(b,a[d])}else void 0!==a&&(!1===d&&"text"in a&&!1==="tooltip"in a?c.f.J(b,a.text):b.push(a))};c.f.l=function(b,a,d){for(var e=[],f=0,h=b.length;f<h;f++){var k=b[f];if(!1!==c.cb(k))for(;;){var m=k.indexOf(a);if(-1===m)break;c.f.J(e,k.substring(0,m));c.f.J(e,d);k=k.substring(m+a.length)}c.f.J(e,k)}return e};c.i=function(b,a,d){this.h=b;this.Qa=void 0!==a?a:{};this.H=void 0!==d?d:{}};c.DocumentManager=c.i;c.i.L=function(b,a,d){return new c.i(b,a,d)};c.i.Factory=c.i.L;c.i.prototype.ta=function(){for(var b=Object.keys(this.h[c.D.X]),a={},d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.A(f)}return a};c.i.prototype.GetTypeMap=c.i.prototype.ta;c.i.prototype.W=function(){for(var b=Object.keys(this.H),a={},d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.A(f)}return a};c.i.prototype.GetActionMap=c.i.prototype.W;
c.i.prototype.za=function(){var b=c.G(this.h,[c.D.U,c.D.Ja]),a={};if(void 0!==b){b=Object.keys(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a[f]=this.A(f)}}return a};c.i.prototype.GetUnitMap=c.i.prototype.za;c.i.prototype.A=function(b){return c.f.A(b,this.h)};c.i.prototype.GetLocaleData=c.i.prototype.A;c.i.prototype.gb=function(b,a,d){return c.f.gb(b,a,d,this.h)};c.i.prototype.MakePropertyNameTooltipData=c.i.prototype.gb;
c.i.prototype.aa=function(b){var a=this.h[c.D.X][b];if(null==a)return[];b=c.G(this.h,a[c.D.xa]);a=c.G(this.h,a[c.D.Oa]);var d=[];void 0!==b&&(d=d.concat(Object.keys(b)));void 0!==a&&(d=d.concat(Object.keys(a)));return d};c.i.prototype.GetDocumentPropertyNameArray=c.i.prototype.aa;
c.i.prototype.$=function(b,a){var d=this.h[c.D.X][b];if(null!=d){b=c.G(this.h,d[c.D.xa]);b=void 0!==b&&a in b?b[a]:void 0;d=c.G(this.h,d[c.D.Oa]);var e=void 0!==d&&a in d?d[a]:void 0,f=d=a=void 0;void 0!==b&&c.a.I in b&&(a=b[c.a.I]);void 0!==e&&c.g.I in e&&(a=e[c.g.I]);void 0!==b&&(d=c.a.Xb in b?!0===b[c.a.Xb]:!1);void 0!==e&&(d=!0);if(void 0!==b&&c.a.ma in b&&(e=c.G(this.h,b[c.a.ma]),void 0!==e))for(m in f={},e)!1!==e.hasOwnProperty(m)&&(f[m]=this.A(m));var h=void 0;if(void 0!==b&&c.a.la in b&&(e=
b[c.a.la],void 0!==e)){h={};b=0;for(var k=e.length;b<k;b++){var m=e[b];h[m]=this.A(m)}}return{type:a,locked:d,keyoptions:f,childtypeoptions:h}}};c.i.prototype.GetDocumentPropertyData=c.i.prototype.$;c.i.prototype.V=function(b){if(b in this.H)return this.H[b].input};c.i.prototype.GetActionInputType=c.i.prototype.V;c.i.prototype.Db=function(b,a,d,e,f){if(b in this.H)return this.H[b].run(this,a,d,e,f)};c.i.prototype.RunAction=c.i.prototype.Db;
c.i.prototype.Pa=function(b,a,d,e,f){return c.$d.ae(b,a,d,this.h.locale_id,e,f)};c.i.prototype.RunMission=c.i.prototype.Pa;c.i.prototype.sa=function(b){c.v(!1,"DocumentManager.NewDocumentData in_type:"+b);if(null==this.h[c.D.X])c.v(!1,"DocumentManager.NewDocumentData gameobject_types undefined");else if(!1===b in this.h[c.D.X])c.v(!1,"DocumentManager.NewDocumentData document_types in_type not found:"+b);else{var a={};a[c.fa.I]=b;b=L(this,a,void 0);a=void 0;void 0!=b&&(a=this.F(b));return a}};
c.i.prototype.NewDocumentData=c.i.prototype.sa;c.i.prototype.Ta=function(b){return L(this,b,void 0)};c.i.prototype.DocumentDataToDocument=c.i.prototype.Ta;
function L(b,a,d){c.v(!1,"DocumentManager.DocumentDataToDocument in_documentData:"+JSON.stringify(a)+" in_parentNodeOrUndefined:"+d);if(null!=a){var e=a[c.fa.I];if(null==e)c.v(!1,"DocumentManager.DocumentDataToDocument no type in data document");else{var f=b.h[c.D.X][e];if(null!=f){d=c.Document.L(e,{},d);e=c.G(b.h,f[c.D.xa]);f=c.G(b.h,f[c.D.Oa]);var h=b.Qa;h=void 0===h?{}:h;if(void 0!=e)for(var k in e){var m=e[k];m=c.da.L(k,b.A(k),void 0,m[c.a.I],m[c.a.wa],b.h);d.h[k]=m}if(void 0!=f)for(var u in f){k=
b.A(u);var v=f[u];m=v[c.g.I];var r=v[c.g.U];if(void 0===r)c.v(!1,"DocumentManager.DocumentDataToDocument undefined data for calculate node:"+u+" in document data:"+JSON.stringify(a));else{for(var y=[],A=0,D=r.length;A<D;A++){var q=Object.assign({},r[A]);y.push(q)}r=v[c.g.wa];A=v[c.g.zb];void 0===A&&(A=!1);v=v[c.g.Vd];void 0===v&&(v=!1);k=c.Ba.L(u,k,m,d,y,r,A,v,b.h,h);d.h[u]=k}}if(void 0!=e)for(var g in e){u=e[g];f=g in d.h?d.h[g]:void 0;if(void 0==f)throw Error("invalid internal state Lost node:"+
g);u=c.b.Kb(a[g],u,b.h,b,f);d.O(g,u)}c.M.ic(d.h);return d}}}}c.i.prototype.F=function(b){if(void 0!==b){var a=b.ra(),d=this.h[c.D.X][a];if(null!=d){d=c.G(this.h,d[c.D.xa]);var e={};e[c.fa.I]=a;if(void 0!=d)for(var f in d){a=d[f];var h=b.u(f);void 0!==h&&(a=c.b.Lc(h,a,this.h,this),void 0!==a&&(e[f]=a))}return e}}};c.i.prototype.DocumentToDocumentData=c.i.prototype.F;c.i.prototype.Cb=function(b,a,d,e){return c.C.L(b,a,d,e)};c.i.prototype.MakeUpdatePatch=c.i.prototype.Cb;
c.i.prototype.N=function(b,a){return c.C.Fb(b,a)};c.i.prototype.ApplyUpdatePatch=c.i.prototype.N;c.D={};c.D.X="documenttypes";c.D.xa="value";c.D.Oa="calculate";c.D.Ud="locale";c.D.U="data";c.D.Ja="units";c.w={};c.w.Wd="lock";c.w.U="d";c.w.I="t";c.w.Bb="r";c.w.Ab="i";c.w.hc="u";c.w.na="p";c.w.ya="v";c.C={};c.ObjectDelta=c.C;c.C.L=function(b,a,d,e){var f=[];void 0===e&&(e=[]);c.C.Hb(f,e,b,a);b={};0<f.length&&(b[c.w.U]=f);void 0!=d&&(b[c.w.Wd]=d);return b};c.C.Factory=c.C.L;
c.C.Ra=function(b,a,d,e){if(void 0!==d&&void 0===e)e={},e[c.w.I]=c.w.Bb,e[c.w.na]=c.R(a),b.push(e);else if(void 0===d&&void 0!==e)d={},d[c.w.I]=c.w.Ab,d[c.w.na]=c.R(a),d[c.w.ya]=e,b.push(d);else if(void 0!==d&&void 0!==e){var f=Object.prototype.toString.call(d),h=Object.prototype.toString.call(e);f!==h?c.v(!0,"c.ObjectDelta.CollectDelta type missmatch sourceType:"+f+" targetType:"+h+" path:"+JSON.stringify(a)):"[object Array]"===f?c.C.mc(b,a,d,e):"[object Object]"===f?c.C.Hb(b,a,d,e):d!==e&&(d={},
d[c.w.I]=c.w.hc,d[c.w.na]=c.R(a),d[c.w.ya]=e,b.push(d))}};c.C.mc=function(b,a,d,e){for(var f=[],h=0,k=e.length;h<k;h++){for(var m=e[h],u=[],v=0,r=d.length;v<r;v++){var y=c.C.Aa(d[v],m);0>=y||u.push({s:v,m:y})}f.push(u)}f=c.C.bd(f);h=r=v=u=0;for(k=f.length;h<k;h++){m=e[h];y=f[h];if(void 0==y)c.C.oc(b,a,m,h),u+=1;else{for(var A=y.s,D=A+u-v;h<D;)c.C.Jb(b,a,D-1),v+=1,D=A+u-v;y=y.m;1>y&&c.C.pc(b,a,d[A],m,D)}r+=1}for(;r<d.length+u-v;)c.C.Jb(b,a,r),v+=1};
c.C.Aa=function(b,a){var d=Object.prototype.toString.call(b);if(d!==Object.prototype.toString.call(a))return 0;if("[object Array]"===d){d=0;var e=1;b.length!==a.length&&(e=.5);for(var f=Math.min(b.length,a.length),h=0;h<f;h++)d+=c.C.Aa(b[h],a[h]);b=1;0<f&&(b=d/f);return b*e}if("[object Object]"===d){d=f=0;for(e in b)!1!==b.hasOwnProperty(e)&&(f+=1,d+=c.C.Aa(b[e],a[e]));for(e in a)!1===a.hasOwnProperty(e)||e in b||(f+=1,d+=c.C.Aa(b[e],a[e]));b=1;0<f&&(b=d/f);return b}return b===a?1:0};
c.C.Jb=function(b,a,d){var e={};a=c.R(a);a.push(d);e[c.w.I]=c.w.Bb;e[c.w.na]=a;b.push(e)};c.C.oc=function(b,a,d,e){var f={};a=c.R(a);a.push(e);f[c.w.I]=c.w.Ab;f[c.w.na]=a;f[c.w.ya]=d;b.push(f)};c.C.pc=function(b,a,d,e,f){a=c.R(a);a.push(f);c.C.Ra(b,a,d,e)};c.C.bd=function(b){for(var a=[],d=-1,e=0,f=b.length;e<f;e++){for(var h=b[e],k=void 0,m=0,u=h.length;m<u;m++){var v=h[m];if(d<v.s){d=v.s;k=v;break}}a.push(k)}return a};
c.C.Hb=function(b,a,d,e){for(var f in d)if(!1!==d.hasOwnProperty(f)){var h=c.R(a);h.push(f);c.C.Ra(b,h,d[f],e[f])}for(f in e)!1===e.hasOwnProperty(f)||f in d||(h=c.R(a),h.push(f),c.C.Ra(b,h,d[f],e[f]))};
c.C.Fb=function(b,a){b=c.Sa(b);a=a[c.w.U];if(null==a)return b;for(var d=0,e=a.length;d<e;d++){var f=a[d],h=f[c.w.I],k=c.R(f[c.w.na]);switch(h){case c.w.Bb:f=k[k.length-1];k.splice(-1,1);k=c.G(b,k);!0===c.ea(k)?k.splice(f,1):delete k[f];break;case c.w.Ab:h=k[k.length-1];k.splice(-1,1);k=c.G(b,k);f=f[c.w.ya];!0===c.ea(k)?k.splice(h,0,f):k[h]=f;break;case c.w.hc:f=f[c.w.ya],c.Sb(b,k,f)}}return b};c.C.ApplyDelta=c.C.Fb;c.K=function(b){this.F=b%233280};c.RandomSequence=c.K;c.K.L=function(b){return new c.K(b)};c.K.Factory=c.K.L;c.K.h=function(){return Math.floor(233280*Math.random())};c.K.MakeSeed=c.K.h;c.K.prototype.h=function(){this.F=(9301*this.F+49297)%233280;return this.F/233280};c.K.prototype.Random=c.K.prototype.h;c.K.prototype.H=function(){return this.F};c.K.prototype.GetCurrentSeed=c.K.prototype.H;
c.K.prototype.N=function(b,a){void 0===a&&(a=[]);a.length=b.length;for(var d=0;d<a.length;++d)a[d]=b[d];for(b=a.length;0!==b;){d=Math.floor(this.h()*b);--b;var e=a[b];a[b]=a[d];a[d]=e}return a};c.K.prototype.ShuffelArray=c.K.prototype.N;c.B={};c.InstructionContext=c.B;c.B.floor=function(b){return Math.floor(b)};c.B.ceil=function(b){return Math.ceil(b)};c.B.log2=function(b){return Math.log2(b)};c.B.sumarray=function(b){var a=0;if(void 0!=b)for(var d=0,e=b.length;d<e;d++)a+=b[d];return a};c.B.abs=function(b){return Math.abs(b)};c.B.length=function(b){var a=0;!0===c.ea(b)&&(a=b.length);return a};c.B.add=function(b,a){return b+a};c.B.minus=function(b,a){return b-a};c.B.mul=function(b,a){return b*a};c.B.div=function(b,a){return b/a};
c.B.pow=function(b,a){return Math.pow(b,a)};c.B.max=function(b,a){return Math.max(b,a)};c.B.min=function(b,a){return Math.min(b,a)};c.B.dotcat=function(b,a){return b+"."+a};c.B.log=function(b,a){return Math.log(b)/Math.log(a)};c.B.sizediff=function(b,a){a-=b;b=0>a;a=Math.abs(a);a=Math.floor(a+.5);!0===b&&(a=-a);return a};c.B.rawattribute=function(b,a,d){a=Math.min(b,a-d);return d+a+.5*Math.max(0,b-a)};
c.B.arraydocumentfiltermember=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f],m=k.u(b);-1!==d.indexOf(m)&&e.push(k)}return e};c.B.arraydocumentfiltermembermap=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f],m=k.u(b);void 0!==m&&d in m&&e.push(k)}return e};c.B.arraydocumentfiltermemberequal=function(b,a,d){for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f];k.u(b)===d&&e.push(k)}return e};
c.B.arrayfilterlength=function(b,a){var d=[];if(void 0!==a){var e=0;for(b=Math.min(a.length,b);e<b;e++)d.push(a[e])}return d};c.B.arraydocumentfiltertype=function(b,a){var d=[];if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var h=a[e];void 0!==h&&h.ra()===b&&d.push(h)}return d};c.B.getmodeindex=function(b,a){if(void 0!==a)for(var d=0,e=a.length;d<e;d++){var f=a[d],h=f.u("loadout_left_hand"),k=f.u("loadout_right_hand");f=f.u("loadout_left_right_hand");if(-1!=h.indexOf(b)||-1!=k.indexOf(b)||-1!=f.indexOf(b))return d}};
c.B.selecthighestlevel=function(b){for(var a=void 0,d=0,e=b.length;d<e;d++){var f=b[d];if(!0===f.u("active"))if(void 0===a)a=f;else{var h=a.u("level"),k=f.u("level");h<k?a=f:h==k&&f.u("start")<a.u("start")&&(a=f)}}return a};c.B.evaluerestrictions=function(b,a,d){if(void 0!==b)for(var e=0,f=b.length;e<f;e++)if(!0!==d[b[e]])return!1;if(void 0!==a)for(e=0,f=a.length;e<f;e++)if(!1!==d[a[e]])return!1;return!0};
c.B.evalueattributes=function(b,a){for(var d in a)if(!1!==a.hasOwnProperty(d)){var e=a[d];if(d in b&&e<b[d])return!1}return!0};c.B.maketrainingmap=function(b,a){var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var h=a[e],k=h.skill;h=h.training;!1!==h in b&&(h=b[h],!1===k in d||d[k]<h)&&(d[k]=h)}return d};
c.B.makeskillmap=function(b,a){var d={};if(void 0!==b)for(var e=0,f=b.length;e<f;e++){var h=b[e],k=h.u("skill");h=h.u("skill_level");d[k]=h}if(void 0!==a)for(var m in a)!1!==a.hasOwnProperty(m)&&(m in d||(d[m]=a[m]));return d};c.B.selectbestskill=function(b,a,d,e){if(void 0!==d){if(void 0!==b)for(var f=0,h=b.length;f<h;f++){var k=b[f];k in d&&(e=Math.max(e,d[k]))}if(void 0!==a)for(f=0,h=a.length;f<h;f++)k=a[f],k in d&&(e=Math.max(e,Math.floor(d[k]/2)))}return e};
c.B.diceroll=function(b,a){return Math.ceil(a*b)};c.B.dicerollarray=function(b,a){for(var d=[],e=0;e<a;++e)d[e]=Math.ceil(a[e]*b);return d};c.ca={};c.ActionContext=c.ca;function M(b){return function(a,d,e,f){var h=d.u("random_seed");h=c.K.L(h);var k=h.h();h=h.H();var m=a.sa(b);a=a.Ta(m);a.O("input",d);a.O("rand",k);d=a.u("pass");k=a.u("roll");m=a.u("diff");h={finished:!0,result:d?"pass":"fail",random_seed:h,roll:k,diff:m};!0===f&&(e=a.T("pass",e),void 0!==e&&(h.delta_log=[e]));return h}}c.ca.luckroll={input:"action_luck_roll_input",run:M("action_luck_roll")};c.ca.attributeroll={input:"action_attribute_roll_input",run:M("action_attribute_roll")};
c.ca.successroll={input:"action_success_roll_input",run:M("action_success_roll")};c.ca.chanceroll={input:"action_chance_roll_input",run:M("action_chance_roll")};
c.ca.competingattributeroll={input:"action_competing_attribute_roll_input",run:function(b,a,d,e,f){var h=a.u("random_seed");void 0!==f&&(h=f.random_seed);h=c.K.L(h);var k=h.h(),m=h.h();h=h.H();var u=b.sa("action_competing_attribute_roll");b=b.Ta(u);b.O("input",a);b.O("rand_a",k);b.O("rand_b",m);void 0!==f&&b.O("state",f);a=b.u("pass_a");f=b.u("pass_b");m=b.u("total_a");u=b.u("total_b");k=b.u("finished");var v=b.u("roll_a"),r=b.u("roll_b");h={finished:k,roll_a:v,roll_b:r,diff:m-u,state:{running_total_a:m,
running_total_b:u,random_seed:h}};!0===k&&(!0===a?h.result="pass_a":!0===f&&(h.result="pass_b"));!0===e&&(e=[],e.push(b.T("total_a",d)),e.push(b.T("total_b",d)),!0===a?e.push(b.T("pass_a",d)):!0===f&&e.push(b.T("pass_b",d)),0<e.length&&(h.delta_log=e));return h}};c.version="prod 0.0.20171201.40";
